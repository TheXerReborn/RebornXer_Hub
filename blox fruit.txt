repeat wait() until game:IsLoaded()
repeat wait() until game:GetService("Players")


if not game:IsLoaded() then
	local GameLoadGui = Instance.new("Message",workspace)
	GameLoadGui.Text = 'Wait Game Loading'
	game.Loaded:Wait()
	GameLoadGui:Destroy()
	task.wait(1)
end

function loadcheck()
    local fileName = "RebornXer Hub BLOX FRUIT [" .. game.Players.LocalPlayer.Name .. "].json"
    
    if not isfile(fileName) then
        writefile(fileName, game:GetService("HttpService"):JSONEncode(_G.SST))
        return
    end
end

pcall(function()
    _G.SST = {Auto_Farm_Level = false,Auto_World_Two = false,Auto_Factory = false,Select_Weapon_Type = "Melee",Bring_Mob = false,Fast_Attack = false
    }
end)


function LoadSetting()
    local fileName = "RebornXer Hub BLOX FRUIT [" .. game.Players.LocalPlayer.Name .. "].json"
    if isfile(fileName) then
        local fileContent = readfile(fileName)
        local success, decoded = pcall(function()
            return game:GetService("HttpService"):JSONDecode(fileContent)
        end)
        
        if success then
            _G.SST = decoded
        end
    else
        SS()
    end
end

function SS()
    local fileName = "RebornXer Hub BLOX FRUIT [" .. game.Players.LocalPlayer.Name .. "].json"
    
    if isfile(fileName) then
        writefile(fileName, game:GetService("HttpService"):JSONEncode(_G.SST))
    else
        loadcheck()
    end
end

loadcheck()
LoadSetting()

if game.PlaceId == 2753915549 then
    World1 = true
elseif game.PlaceId == 4442272183 then
    World2 = true
elseif game.PlaceId == 7449423635 then
    World3 = true
end

if game:GetService("Players").LocalPlayer.PlayerGui.Main:FindFirstChild("ChooseTeam")  then
		repeat wait()
			if game:GetService("Players").LocalPlayer.PlayerGui:WaitForChild("Main").ChooseTeam.Visible == true then
				if Team == "Pirate" then
					for i, v in pairs(getconnections(game:GetService("Players").LocalPlayer.PlayerGui.Main.ChooseTeam.Container.Pirates.Frame.TextButton.Activated)) do                                                                                                
						v.Function()
					end
				elseif Team == "Marine" then
					for i, v in pairs(getconnections(game:GetService("Players").LocalPlayer.PlayerGui.Main.ChooseTeam.Container.Marines.Frame.TextButton.Activated)) do                                                                                                
						v.Function()
					end
				else
					for i, v in pairs(getconnections(game:GetService("Players").LocalPlayer.PlayerGui.Main.ChooseTeam.Container.Pirates.Frame.TextButton.Activated)) do                                                                                                
						v.Function()
					end
				end
			end
		until game.Players.LocalPlayer.Team ~= nil and game:IsLoaded()
	end

    local OCui = game.CoreGui:FindFirstChild("RebormXerOC")
    if OCui then
        OCui:Destroy()
    end
    
    local RebornXer = Instance.new("ScreenGui")
    local Open = Instance.new("TextButton")
    local fuckshit = Instance.new("UICorner")
    local MODILEMAGE = Instance.new("ImageLabel")
    local posto = Instance.new("UIStroke")
    
    local ScreenGui = Instance.new("ScreenGui")
    local ImageButton = Instance.new("ImageButton")
    
    -- กำหนดค่าเริ่มต้น
    ScreenGui.Parent = game.CoreGui
    ScreenGui.Name = "RebormXerOC"
    ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    
    ImageButton.Parent = ScreenGui
    ImageButton.Name = "Open/CloseUi"
    ImageButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    ImageButton.BorderSizePixel = 0
    ImageButton.Position = UDim2.new(0.1, 0, 0.1, 0)
    ImageButton.Size = UDim2.new(0, 45, 0, 45)
    ImageButton.Draggable = true
    ImageButton.Image = "rbxassetid://108287073891881"
    
    -- ฟังก์ชันสำหรับการคลิก
    local TweenService = game:GetService("TweenService")
    ImageButton.MouseButton1Click:Connect(function()
        local ui = game:GetService("CoreGui"):FindFirstChild("RebornXer Hub") -- ค้นหา UI
        if ui and ui:FindFirstChild("Main") then -- ตรวจสอบว่ามี "Main" อยู่ใน UI
            local main = ui.Main
            if main.Size.X.Offset == 600 and main.Size.Y.Offset == 400 then
                local tween = TweenService:Create(
                    main,
                    TweenInfo.new(0.20, Enum.EasingStyle.Sine, Enum.EasingDirection.In), -- กำหนดเวลา 0.35 วินาที
                    {Size = UDim2.new(0, 0, 0, 0)}
                )
                tween:Play() -- เล่น Tween
            else
                local tween = TweenService:Create(
                    main,
                    TweenInfo.new(0.20, Enum.EasingStyle.Sine, Enum.EasingDirection.Out), -- กำหนดเวลา 0.35 วินาที
                    {Size = UDim2.new(0, 600, 0, 400)}
                )
                tween:Play() -- เล่น Tween
            end
        end
    end)
    
    
    fuckshit.Parent = Open
    
     MODILEMAGE.Name = "MODILEMAGE"
     MODILEMAGE.Parent = Open
     MODILEMAGE.BackgroundColor3 = Color3.fromRGB(51,255,255)
     MODILEMAGE.BackgroundTransparency = 1.000
     MODILEMAGE.BorderSizePixel = 0
     MODILEMAGE.Position = UDim2.new(0, 0.5, 0, 0)
     MODILEMAGE.Size = UDim2.new(0, 38, 0, 31)
     MODILEMAGE.Image = "rbxassetid://"
     
    posto.Name = "posto"
     posto.Parent = Open
     posto.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
     posto.Color = Color3.fromRGB(51,255,255)
     posto.LineJoinMode = Enum.LineJoinMode.Round
     posto.Thickness = 1
     posto.Transparency = 0
     posto.Enabled = true
     posto.Archivable = true
    
    
    
     _G.WindowBackgroundColor = Color3.fromRGB(0, 0, 0) -- พื้นหลังหน้าต่าง (ดำ)
     _G.BackgroundItemColor = Color3.fromRGB(30, 30, 30) -- พื้นหลังของไอเทม (ดำเข้ม)
     _G.TabWindowColor = Color3.fromRGB(20, 20, 20) -- สีแท็บหน้าต่าง (ดำเข้ม)
     _G.ContainerColor = Color3.fromRGB(40, 40, 40) -- สีคอนเทนเนอร์ (ดำเข้ม)
     _G.TitleTextColor = Color3.fromRGB(255, 255, 255) -- สีข้อความหัวเรื่อง (ขาว)
     _G.ImageColor = Color3.fromRGB(255, 255, 255) -- สีของรูปภาพ (ขาว)
     _G.LineThemeColor = Color3.fromRGB(255, 255, 255) -- สีเส้น (ขาว)
     _G.TabTextColor = Color3.fromRGB(255, 255, 255) -- สีข้อความในแท็บ (ขาว)
     _G.TabImageColor = Color3.fromRGB(255, 255, 255) -- สีรูปภาพในแท็บ (ขาว)
     _G.TabThemeColor = Color3.fromRGB(255, 255, 255) -- สีธีมของแท็บ (ขาว)
     _G.SectionColor = Color3.fromRGB(30, 30, 30) -- สีพื้นหลังของ Section (ดำเข้ม)
     _G.SectionImageColor = Color3.fromRGB(255, 255, 255) -- สีรูปภาพใน Section (ขาว)
     _G.SectionTextColor = Color3.fromRGB(255, 255, 255) -- สีข้อความใน Section (ขาว)
     _G.SectionOn = Color3.fromRGB(0, 255, 0) -- สีสถานะเปิดของ Section (เขียว)
     
    _G.Color1 = Color3.fromRGB(255,255,255)
    do local GUI = game.CoreGui:FindFirstChild("RebornXer Hub");if GUI then GUI:Destroy();end;if _G.Color == nil then
    _G.Color = Color3.fromRGB(255,255,255)
    end 
    end
    
    local tween = game:GetService("TweenService")
    local tweeninfo = TweenInfo.new
    local input = game:GetService("UserInputService")
    local run = game:GetService("RunService")
    local plr = game.Players.LocalPlayer
    local mouse = plr:GetMouse()
    
    local UserInputService = game:GetService("UserInputService")
    local TweenService = game:GetService("TweenService")
    
    local function MakeDraggable(topbarobject, object)
        local Dragging = nil
        local DragInput = nil
        local DragStart = nil
        local StartPosition = nil
    
        local function Update(input)
            local Delta = input.Position - DragStart
            local pos = UDim2.new(StartPosition.X.Scale, StartPosition.X.Offset + Delta.X, StartPosition.Y.Scale, StartPosition.Y.Offset + Delta.Y)
            local Tween = TweenService:Create(object, TweenInfo.new(0.15), {Position = pos})
            Tween:Play()
        end
    
        topbarobject.InputBegan:Connect(
            function(input)
                if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
                    Dragging = true
                    DragStart = input.Position
                    StartPosition = object.Position
    
                    input.Changed:Connect(
                        function()
                            if input.UserInputState == Enum.UserInputState.End then
                                Dragging = false
                            end
                        end
                    )
                end
            end
        )
    
        topbarobject.InputChanged:Connect(
            function(input)
                if
                    input.UserInputType == Enum.UserInputType.MouseMovement or
                    input.UserInputType == Enum.UserInputType.Touch
                then
                    DragInput = input
                end
            end
        )
    
        UserInputService.InputChanged:Connect(
            function(input)
                if input == DragInput and Dragging then
                    Update(input)
                end
            end
        )
    end
    
    local Update = {}
    
    function Update:AddWindow(name,logo,keybind)
        local uihide = false
        local abc = false
        local logo = logo or 0
        local currentpage = ""
        local keybind = keybind or Enum.KeyCode.RightControl
        local yoo = string.gsub(tostring(keybind),"Enum.KeyCode.","")
        
        local RebornXer_Hub = Instance.new("ScreenGui")
        RebornXer_Hub.Name = "RebornXer Hub"
        RebornXer_Hub.Parent = game.CoreGui
        RebornXer_Hub.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    
    local osfunc = {}
     local osfunc2 = {}
        local Main = Instance.new("Frame")
        local WindowStrokemain = Instance.new("UIStroke")
        Main.Name = "Main"
        Main.Parent = RebornXer_Hub
        Main.ClipsDescendants = true
        Main.AnchorPoint = Vector2.new(0.5,0.5)
        Main.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
        Main.Position = UDim2.new(0.5, 0, 0.5, 0)
        Main.Size = UDim2.new(0, 0, 0, 0)
        
        WindowStrokemain.Name = "WindowStroke"
     WindowStrokemain.Parent = Main
     WindowStrokemain.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
     WindowStrokemain.Color = Color3.fromRGB(255,255,255)
     WindowStrokemain.LineJoinMode = Enum.LineJoinMode.Round
     WindowStrokemain.Thickness = 1
     WindowStrokemain.Transparency = 0
     WindowStrokemain.Enabled = true
     WindowStrokemain.Archivable = true
        
        Main:TweenSize(UDim2.new(0, 600, 0, 400),"Out","Quad",0,true)
    
        local MCNR = Instance.new("UICorner")
        MCNR.Name = "MCNR"
        MCNR.Parent = Main
    
        local Top = Instance.new("Frame")
        Top.Name = "Top"
        Top.Position = UDim2.new(0,0,0,4)
        Top.Parent = Main
        Top.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
        Top.Size = UDim2.new(0, 560, 0, 28)
    
    
    
        local Logo = Instance.new("ImageLabel")
        Logo.Name = "Logo"
        Logo.Parent = Top
        Logo.BackgroundColor3 = Color3.fromRGB(255,255,255)
        Logo.BackgroundTransparency = 1.000
        Logo.Position = UDim2.new(0, 9, 0, 1)
        Logo.Size = UDim2.new(0, 30, 0, 25)
        Logo.Image = "rbxassetid://"..tostring(logo)
    
        local Name = Instance.new("TextLabel")
        Name.Name = "Name"
        Name.Parent = Top
        Name.BackgroundColor3 = Color3.fromRGB(0,255,255)
        Name.BackgroundTransparency = 1.000
        Name.Position = UDim2.new(0.1, 0, 0, 0)
        Name.Size = UDim2.new(0, 80, 0, 27)
        Name.Font = Enum.Font.Code
        Name.RichText = true;
        Name.Text = name
        Name.TextColor3 = Color3.fromRGB(225, 225, 225)
        Name.TextSize = 15.000
    
    local LocalizationService = game:GetService("LocalizationService")
     local Players = game:GetService("Players")
     local player = Players.LocalPlayer
     local name = player.Name
     local result, code = pcall(function()
         return LocalizationService:GetCountryRegionForPlayerAsync(player)
     end)
     
    function osfunc:Refresh(textadd)
     ServerTime.Text = textadd
     end
     function osfunc2:Refresh(textadd2)
     ServerDate.Text = textadd2
     end
    
     
    local ListNof = Instance.new("Frame")
        local NofList = Instance.new("UIListLayout")
    
        ListNof.Name = "ListNof"
        ListNof.Parent = RebornXer_Hub
        ListNof.BackgroundColor3 = Color3.fromRGB(255,255,255)
        ListNof.BackgroundTransparency = 1.000
        ListNof.Position = UDim2.new(0.778017223, 0, -0.00217864919, 0)
        ListNof.Size = UDim2.new(0, 206, 0, 400)
    
        NofList.Name = "NofList"
        NofList.Parent = ListNof
        NofList.SortOrder = Enum.SortOrder.LayoutOrder
        NofList.VerticalAlignment = Enum.VerticalAlignment.Top
        
        function Update:Nof(txt,tine)
            spawn(function()
                local Nof1 = Instance.new("Frame")
                local Nof2 = Instance.new("Frame")
                local Nof3 = Instance.new("Frame")
                local NofLabel = Instance.new("TextLabel")
                local slidenof = Instance.new("Frame")
                local Slide2 = Instance.new("Frame")
    
                Nof1.Name = "Nof1"
                Nof1.Parent = ListNof
                Nof1.BackgroundColor3 = Color3.fromRGB(51,255,255)
                Nof1.BackgroundTransparency = 1.000
                Nof1.BorderSizePixel = 0
                Nof1.Size = UDim2.new(0, 206, 0, 83)
    
                Nof2.Name = "Nof2"
                Nof2.Parent = Nof1
                Nof2.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
                Nof2.BorderColor3 = Color3.fromRGB(0, 0, 0)
                Nof2.Position = UDim2.new(0, 0, 0.0120481923, 0)
                Nof2.Size = UDim2.new(0, 189, 0, 65)
                Instance.new("UICorner",Nof2)
                Instance.new("UICorner",slidenof)
                Instance.new("UICorner",Slide2)
    
    
                Nof3.Name = "Nof3"
                Nof3.Parent = Nof1
                Nof3.BackgroundColor3 = Color3.fromRGB(90, 90, 255)
                Nof3.BackgroundTransparency = 1
                Nof3.BorderSizePixel = 0
                Nof3.Position = UDim2.new(0, 0, 0.638554215, 0)
                Nof3.Size = UDim2.new(0, 189, 0, 7)
    
                NofLabel.Name = "NofLabel"
                NofLabel.Parent = Nof1
                NofLabel.BackgroundColor3 = Color3.fromRGB(51,255,255)
                NofLabel.BackgroundTransparency = 1.000
                NofLabel.BorderSizePixel = 0
                NofLabel.Position = UDim2.new(0, 0, 0.00463949936, 0)
                NofLabel.Size = UDim2.new(0, 188, 0, 52)
                NofLabel.ZIndex = 4
                NofLabel.Font = Enum.Font.Code
                NofLabel.TextColor3 = main_color or Color3.fromRGB(51,255,255)
                NofLabel.TextScaled = false
                NofLabel.TextSize = 18.000
                NofLabel.TextStrokeTransparency = 0.100
                NofLabel.TextTransparency = 0.100
                NofLabel.TextWrapped = true
                NofLabel.Text = txt or ""
    
                slidenof.Name = "slidenof"
                slidenof.Parent = Nof1
                slidenof.BackgroundColor3 = Color3.fromRGB(100, 100, 255)
                slidenof.BorderSizePixel = 0
                slidenof.Position = UDim2.new(0, 0, 0.638554215, 0)
                slidenof.Size = UDim2.new(0, 189, 0, 7)
    
                Slide2.Name = "Slide2"
                Slide2.Parent = Nof1
                Slide2.BorderSizePixel = 0
                Slide2.BackgroundColor3 = main_color or Color3.fromRGB(51,255,255)
                Slide2.BorderColor3 = Color3.fromRGB(0, 0, 0)
                Slide2.Position = UDim2.new(0, 0, 0.0120481923, 0)
                Slide2.Size = UDim2.new(0, 0, 0, 65)
                Slide2.ZIndex = 15
                Slide2.Visible = false
    
                tween:Create(slidenof,tweeninfo(tine or 2),{Size = UDim2.new(0, 0, 0, 7)}):Play()
                wait(tine or 2)
                Slide2.Visible = true
                tween:Create(Slide2,tweeninfo(0.2),{Size = UDim2.new(0, 190, 0, 65)}):Play()
                wait(0.2)
                tween:Create(Slide2,tweeninfo(0.2),{Size = UDim2.new(0, 0, 0, 65)}):Play()
                tween:Create(Nof3,tweeninfo(0.2),{Size = UDim2.new(0, 0, 0, 7)}):Play()
                tween:Create(NofLabel,tweeninfo(0.2),{Size = UDim2.new(0, 0, 0, 52)}):Play()
                tween:Create(Nof2,tweeninfo(0.2),{Size = UDim2.new(0, 0, 0, 65)}):Play()
                wait(0.2)
                Nof2.Visible = false
                game.Debris:AddItem(Nof1,0)
            end)
        end
    
     
    function Update:AddNotification(textdesc)
        local NotificationFrame = Instance.new("Frame")
        local OkayBtn = Instance.new("TextButton")
        local OkayBtnCorner = Instance.new("UICorner")
        local NotificationTitle = Instance.new("TextLabel")
        local NotificationDesc = Instance.new("TextLabel")
        local NotifCorner = Instance.new("UICorner")
        local NotifHolderUIStroke = Instance.new("UIStroke")
        local Line = Instance.new("Frame")
    
        local SectionColor = _G.SectionColor or Color3.fromRGB(255, 255, 255)
        local defaultOkayColor = Color3.fromRGB(12, 12, 12)
    
        NotificationFrame.Name = "NotificationFrame"
        NotificationFrame.Parent = RebornXer_Hub
        NotificationFrame.AnchorPoint = Vector2.new(0.5, 0.5) -- ตั้งจุดยึดตรงกลาง
        NotificationFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
        NotificationFrame.BorderColor3 = SectionColor
        NotificationFrame.BorderSizePixel = 0
        NotificationFrame.ClipsDescendants = true
        NotificationFrame.Position = UDim2.new(0.5, 0, 0.5, 0) -- ตั้งตำแหน่งตรงกลางจอ
        NotificationFrame.Size = UDim2.new(0, 0, 0, 0)
    
        NotificationFrame:TweenSize(UDim2.new(0, 400, 0, 200), Enum.EasingDirection.Out, Enum.EasingStyle.Quart, .6, true)
    
        NotifCorner.Parent = NotificationFrame
        NotifCorner.CornerRadius = UDim.new(0, 10) -- เพิ่มความโค้งเล็กน้อย
    
        NotifHolderUIStroke.Parent = NotificationFrame
        NotifHolderUIStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
        NotifHolderUIStroke.Color = SectionColor
        NotifHolderUIStroke.Thickness = 1
    
        OkayBtn.Name = "OkayBtn"
        OkayBtn.Parent = NotificationFrame
        OkayBtn.BackgroundColor3 = defaultOkayColor
        OkayBtn.BorderSizePixel = 1
        OkayBtn.BorderColor3 = SectionColor
        OkayBtn.Position = UDim2.new(0.95, -25, 0.02, 0) -- ปุ่มปิดอยู่มุมขวาบน
        OkayBtn.Size = UDim2.new(0, 30, 0, 30)
        OkayBtn.Text = "X"
        OkayBtn.TextColor3 = Color3.fromRGB(255, 0, 0)
        OkayBtn.TextSize = 22.000
    
        OkayBtnCorner.CornerRadius = UDim.new(0, 5)
        OkayBtnCorner.Parent = OkayBtn
    
        NotificationTitle.Parent = NotificationFrame
        NotificationTitle.BackgroundTransparency = 1.000
        NotificationTitle.Position = UDim2.new(0.5, -200, 0, 20) -- ตำแหน่งกลาง
        NotificationTitle.Size = UDim2.new(0, 400, 0, 40)
        NotificationTitle.Font = Enum.Font.Code
        NotificationTitle.Text = "Notification"
        NotificationTitle.TextColor3 = Color3.fromRGB(0, 255, 255)
        NotificationTitle.TextSize = 28.000
        NotificationTitle.TextXAlignment = Enum.TextXAlignment.Center
    
        Line.Parent = NotificationFrame
        Line.BackgroundColor3 = SectionColor
        Line.BorderSizePixel = 0
        Line.Position = UDim2.new(0, 0, 0, 70)
        Line.Size = UDim2.new(1, 0, 0, 2)
    
        NotificationDesc.Parent = NotificationFrame
        NotificationDesc.BackgroundTransparency = 1.000
        NotificationDesc.Position = UDim2.new(0.5, -180, 0, 80)
        NotificationDesc.Size = UDim2.new(0, 360, 0, 100) -- ปรับขนาดข้อความให้เหมาะกับกรอบ
        NotificationDesc.Font = Enum.Font.Code
        NotificationDesc.Text = textdesc
        NotificationDesc.TextColor3 = _G.SectionTextColor or Color3.fromRGB(255, 255, 255)
        NotificationDesc.TextSize = 18.000
        NotificationDesc.TextWrapped = true
        NotificationDesc.TextXAlignment = Enum.TextXAlignment.Center
    
        OkayBtn.MouseEnter:Connect(function()
            TweenService:Create(OkayBtn, TweenInfo.new(.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {BackgroundColor3 = Color3.fromRGB(30, 30, 30)}):Play()
        end)
    
        OkayBtn.MouseLeave:Connect(function()
            TweenService:Create(OkayBtn, TweenInfo.new(.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {BackgroundColor3 = defaultOkayColor}):Play()
        end)
    
        OkayBtn.MouseButton1Click:Connect(function()
            NotificationFrame:TweenSize(UDim2.new(0, 0, 0, 0), Enum.EasingDirection.Out, Enum.EasingStyle.Quart, .6, true)
            wait(0.6)
            NotificationFrame:Destroy()
        end)
    end
    
    
    
    local Tab = Instance.new("ImageLabel")
    local WindowStrokelol = Instance.new("UIStroke")
     Tab.Name = "Tab"
     Tab.Parent = Top
     Tab.BackgroundColor3 = Color3.fromRGB(42, 42, 42)
     Tab.ImageTransparency = 1
     Tab.Position = UDim2.new(0, 160, 0, -2)
     Tab.Size = UDim2.new(0, 410, 0, 29)
     Tab.Image = "rbxassetid://6675147486"
     
     WindowStrokelol.Name = "WindowStroke"
     WindowStrokelol.Parent = Tab
     WindowStrokelol.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
     WindowStrokelol.Color = Color3.fromRGB(255,255,255)
     WindowStrokelol.LineJoinMode = Enum.LineJoinMode.Round
     WindowStrokelol.Thickness = 1
     WindowStrokelol.Transparency = 0
     WindowStrokelol.Enabled = true
     WindowStrokelol.Archivable = true
     
     local TCNR = Instance.new("UICorner")
     TCNR.Name = "TCNR"
     TCNR.Parent = Tab
     
     local ScrollTab = Instance.new("ScrollingFrame")
     ScrollTab.Name = "ScrollTab"
     ScrollTab.Parent = Tab
     ScrollTab.Active = true
     ScrollTab.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
     ScrollTab.BackgroundTransparency = 0
     ScrollTab.Size = UDim2.new(0, 433, 0, 29)
     ScrollTab.CanvasSize = UDim2.new(0, 0, 0, 0)
     ScrollTab.ScrollBarThickness = 0
     
     local PLL = Instance.new("UIListLayout")
     PLL.Name = "PLL"
     PLL.Parent = ScrollTab
     PLL.FillDirection = Enum.FillDirection.Horizontal
     PLL.SortOrder = Enum.SortOrder.LayoutOrder
     PLL.Padding = UDim.new(0)
     
     local PPD = Instance.new("UIPadding")
     PPD.Name = "PPD"
     PPD.Parent = ScrollTab
     PPD.PaddingLeft = UDim.new(0.01)
     
     local Page = Instance.new("Frame")
     local WindowStrokeshit = Instance.new("UIStroke")
     Page.Name = "Page"
     Page.Parent = Main
     Page.BackgroundColor3 = Color3.fromRGB(42, 42, 42)
     Page.BackgroundTransparency = 1
     Page.Position = UDim2.new(0, 1, 0.100000003, -5)
     Page.Size = UDim2.new(0, 300, 0, 380)
     
     WindowStrokeshit.Name = "WindowStroke"
     WindowStrokeshit.Parent = Page
     WindowStrokeshit.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
     WindowStrokeshit.Color = Color3.fromRGB(255,255,255)
     WindowStrokeshit.LineJoinMode = Enum.LineJoinMode.Round
     WindowStrokeshit.Thickness = 1
     WindowStrokeshit.Transparency = 0
     WindowStrokeshit.Archivable = false
     WindowStrokeshit.Enabled = true
     
     local lolshit = Instance.new("UICorner")
     
     lolshit.Parent = Top1
     
     
     local PCNR = Instance.new("UICorner")
     PCNR.Name = "PCNR"
     PCNR.Parent = Page
     
     local MainPage = Instance.new("Frame")
     MainPage.Name = "MainPage"
     MainPage.Parent = Page
     MainPage.ClipsDescendants = true
     MainPage.BackgroundColor3 = Color3.fromRGB(255,255,255)
     MainPage.BackgroundTransparency = 1.000
     MainPage.Size = UDim2.new(0, 300, 0, 380)
     
     local PageList = Instance.new("Folder")
     PageList.Name = "PageList"
     PageList.Parent = MainPage
     
     local UIPageLayout = Instance.new("UIPageLayout")
     
     UIPageLayout.Parent = PageList
     UIPageLayout.SortOrder = Enum.SortOrder.LayoutOrder
     UIPageLayout.EasingDirection = Enum.EasingDirection.InOut
     UIPageLayout.EasingStyle = Enum.EasingStyle.Quad
     UIPageLayout.FillDirection = Enum.FillDirection.Vertical
     UIPageLayout.Padding = UDim.new(0, 15)
     UIPageLayout.TweenTime = 0.400
     UIPageLayout.GamepadInputEnabled = false
     UIPageLayout.ScrollWheelInputEnabled = false
     UIPageLayout.TouchInputEnabled = false
    
    local Page2 = Instance.new("Frame")
     local WindowStrokeshit2 = Instance.new("UIStroke")
     Page2.Name = "Page2"
     Page2.Parent = Main
     Page2.BackgroundColor3 = Color3.fromRGB(42, 42, 42)
     Page2.BackgroundTransparency = 1
     Page2.Position = UDim2.new(0, 302, 0.100000003, -5)
     Page2.Size = UDim2.new(0, 300, 0, 378)
     
     WindowStrokeshit2.Name = "WindowStroke"
     WindowStrokeshit2.Parent = Page2
     WindowStrokeshit2.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
     WindowStrokeshit2.Color = Color3.fromRGB(255,255,255)
     WindowStrokeshit2.LineJoinMode = Enum.LineJoinMode.Round
     WindowStrokeshit2.Thickness = 1
     WindowStrokeshit2.Transparency = 0
     WindowStrokeshit2.Archivable = false
     WindowStrokeshit2.Enabled = true
     
     local lolshit2 = Instance.new("UICorner")
     
     lolshit2.Parent = Top1
     
     
     local PCNR2 = Instance.new("UICorner")
     PCNR2.Name = "PCNR"
     PCNR2.Parent = Page2
     
     local MainPage2 = Instance.new("Frame")
     MainPage2.Name = "MainPage"
     MainPage2.Parent = Page2
     MainPage2.ClipsDescendants = true
     MainPage2.BackgroundColor3 = Color3.fromRGB(255,255,255)
     MainPage2.BackgroundTransparency = 1.000
     MainPage2.Size = UDim2.new(0, 300, 0, 378)
     
     local PageList2 = Instance.new("Folder")
     PageList2.Name = "PageList"
     PageList2.Parent = MainPage2
     
     local UIPageLayout2 = Instance.new("UIPageLayout")
     
     UIPageLayout2.Parent = PageList2
     UIPageLayout2.SortOrder = Enum.SortOrder.LayoutOrder
     UIPageLayout2.EasingDirection = Enum.EasingDirection.InOut
     UIPageLayout2.EasingStyle = Enum.EasingStyle.Quad
     UIPageLayout2.FillDirection = Enum.FillDirection.Vertical
     UIPageLayout2.Padding = UDim.new(0, 15)
     UIPageLayout2.TweenTime = 0.400
     UIPageLayout2.GamepadInputEnabled = false
     UIPageLayout2.ScrollWheelInputEnabled = false
     UIPageLayout2.TouchInputEnabled = false
     
     MakeDraggable(Top,Main)
     
    local TweenService = game:GetService("TweenService")
    local UserInputService = game:GetService("UserInputService")
    
    local uihide = false
    UserInputService.InputBegan:Connect(function(input)
        if input.KeyCode == Enum.KeyCode[yoo] then -- แก้ไขเป็น KeyCode ที่ต้องการ
            if uihide == false then
                uihide = true
                local tween = TweenService:Create(
                    Main,
                    TweenInfo.new(0.35, Enum.EasingStyle.Sine, Enum.EasingDirection.In), -- กำหนดเวลา 1 วินาที
                    {Size = UDim2.new(0, 0, 0, 0)}
                )
                tween:Play()
            else
                uihide = false
                local tween = TweenService:Create(
                    Main,
                    TweenInfo.new(0.35, Enum.EasingStyle.Sine, Enum.EasingDirection.Out), -- กำหนดเวลา 1 วินาที
                    {Size = UDim2.new(0, 600, 0, 400)}
                )
                tween:Play()
            end
        end
    end)
        
    
    
     
        local uitab = {}
        
        function uitab:AddTab(text, img)
            local TabButton = Instance.new("TextButton")
            local TabImage = Instance.new("ImageLabel")
            local WindowStroke = Instance.new("UIStroke")
            local Label3 = Instance.new("TextLabel")
            local LabelTitle = Instance.new("TextLabel")
    local LabelTitle = Instance.new("TextLabel")
    
            TabButton.Parent = ScrollTab
            TabButton.Name = text.."Server"
            TabButton.Text = text
            TabButton.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
            TabButton.BackgroundTransparency = 0.1
            TabButton.Position = UDim2.new(0, 2, 0, 0)
            TabButton.Size = UDim2.new(0, 100, 0, 28)
            TabButton.Font = Enum.Font.Code
            TabButton.TextColor3 = Color3.fromRGB(255, 225, 225)
            TabButton.TextSize = 12.000
            TabButton.TextTransparency = 0
            
            
    local MCNR1 = Instance.new("UICorner")
        MCNR1.Name = "MCNR"
        MCNR1.Parent = TabButton
    
    WindowStroke.Name = "WindowStroke"
     WindowStroke.Parent = TabButton
     WindowStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
     WindowStroke.Color = Color3.fromRGB(45,45,45)
     WindowStroke.LineJoinMode = Enum.LineJoinMode.Round
     WindowStroke.Thickness = 1
     WindowStroke.Transparency = 0
     WindowStroke.Enabled = true
     WindowStroke.Archivable = true
    
            local MainFramePage = Instance.new("ScrollingFrame")
            MainFramePage.Name = text.."_Page"
            MainFramePage.Parent = PageList
            MainFramePage.Active = true
            MainFramePage.BackgroundColor3 = Color3.fromRGB(51,255,255)
            MainFramePage.BackgroundTransparency = 1.000
            MainFramePage.BorderSizePixel = 1
            MainFramePage.Size = UDim2.new(0, 390, 0, 370)
            MainFramePage.CanvasSize = UDim2.new(0, 0, 0, 0)
            MainFramePage.ScrollBarThickness = 0
            
    
            
            local UIPadding = Instance.new("UIPadding")
            local UIListLayout = Instance.new("UIListLayout")
            
            UIPadding.Parent = MainFramePage
            UIPadding.PaddingLeft = UDim.new(0, 10)
            UIPadding.PaddingTop = UDim.new(0, 10)
    
            UIListLayout.Padding = UDim.new(0,4)
            UIListLayout.Parent = MainFramePage
            UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
            
            TabButton.MouseButton1Click:Connect(function()
            Sound = Instance.new("Sound", game:GetService("Workspace")) -- ตรงนี้ไม่ต้องไปสน นาจา ;0;
    Sound.Name = "Notify" -- ชื่อเสียง \;
    Sound.SoundId = "rbxassetid://903267862" -- เลขขขขขเสียง ;/
    Sound.Looped = false -- วนลูป :>
    Sound.Playing = true -- เล่นเสียง :<
    Sound.Volume = 1 -- ระดับเสียงงงงงงง ;-;
                for i,v in next, ScrollTab:GetChildren() do
                    if v:IsA("TextButton") then
                        TweenService:Create(
                            v,
                            TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
                            {TextTransparency = 0}
                        ):Play()
                    end
                    TweenService:Create(
                        TabButton,
                        TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
                        {TextTransparency = 0}
                    ):Play()
                end
                for i,v in next, PageList:GetChildren() do
                    currentpage = string.gsub(TabButton.Name,"Server","").."_Page"
                    if v.Name == currentpage then
                        UIPageLayout:JumpTo(v)
                    end
                end
            end)
    
            if abc == false then
                
                for i,v in next, ScrollTab:GetChildren() do
                    if v:IsA("TextButton") then
                        TweenService:Create(
                            v,
                            TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
                            {TextTransparency = 0}
                        ):Play()
                    end
                    TweenService:Create(
                        TabButton,
                        TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
                        {TextTransparency = 0}
                    ):Play()
                end
                UIPageLayout:JumpToIndex(0)
                abc = true
            end
            
            game:GetService("RunService").Stepped:Connect(function()
                pcall(function()
                    MainFramePage.CanvasSize = UDim2.new(0,0,0,UIListLayout.AbsoluteContentSize.Y + 20)
                    ScrollTab.CanvasSize = UDim2.new(0,PLL.AbsoluteContentSize.X + 20,0,0)
                end)
            end)
     
     coroutine.wrap(function()
     while wait() do
     end
     end)()
     
         
     
     coroutine.wrap(function()
     while wait() do
     end
     end)()
        
        
        local MainFramePage2 = Instance.new("ScrollingFrame")
            MainFramePage2.Name = text.."_Page"
            MainFramePage2.Parent = PageList2
            MainFramePage2.Active = true
            MainFramePage2.BackgroundColor3 = Color3.fromRGB(51,255,255)
            MainFramePage2.BackgroundTransparency = 1.000
            MainFramePage2.BorderSizePixel = 0
            MainFramePage2.Size = UDim2.new(0, 320, 0, 370)
            MainFramePage2.CanvasSize = UDim2.new(0, 0, 0, 0)
            MainFramePage2.ScrollBarThickness = 0
            
            local UIPadding2 = Instance.new("UIPadding")
            local UIListLayout2 = Instance.new("UIListLayout")
            
            UIPadding2.Parent = MainFramePage2
            UIPadding2.PaddingLeft = UDim.new(0, 10)
            UIPadding2.PaddingTop = UDim.new(0, 10)
    
            UIListLayout2.Padding = UDim.new(0,4)
            UIListLayout2.Parent = MainFramePage2
            UIListLayout2.SortOrder = Enum.SortOrder.LayoutOrder
            
            TabButton.MouseButton1Click:Connect(function()
                for i,v in next, ScrollTab:GetChildren() do
                    if v:IsA("TextButton") then
                        TweenService:Create(
                            v,
                            TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
                            {TextTransparency = 0}
                        ):Play()
                    end
                    TweenService:Create(
                        TabButton,
                        TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
                        {TextTransparency = 0}
                    ):Play()
                end
                for i,v in next, PageList2:GetChildren() do
                    currentpage = string.gsub(TabButton.Name,"Server","").."_Page"
                    if v.Name == currentpage then
                        UIPageLayout2:JumpTo(v)
                    end
                end
            end)
    
            if abc == false then
                for i,v in next, ScrollTab:GetChildren() do
                    if v:IsA("TextButton") then
                        TweenService:Create(
                            v,
                            TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
                            {TextTransparency = 0}
                        ):Play()
                    end
                    TweenService:Create(
                        TabButton,
                        TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
                        {TextTransparency = 0}
                    ):Play()
                end
                UIPageLayout2:JumpToIndex(0)
                abc = true
            end
            
            game:GetService("RunService").Stepped:Connect(function()
                pcall(function()
                    MainFramePage2.CanvasSize = UDim2.new(0,0,0,UIListLayout2.AbsoluteContentSize.Y + 20)
                    ScrollTab.CanvasSize = UDim2.new(0,PLL.AbsoluteContentSize.X + 20,0,0)
                end)
            end)
     
     coroutine.wrap(function()
     while wait() do
     end
     end)()
     
         
     
     coroutine.wrap(function()
     while wait() do
     end
     end)()
        local abcd = false
         function uitab:AddTabH(text,img)
         local mainDiscord = Instance.new("ImageButton")
    
         mainDiscord.Name = "mainDiscord"
        mainDiscord.Parent = Top
        mainDiscord.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
        mainDiscord.BackgroundTransparency = 1.000
        mainDiscord.Position = UDim2.new(0, 565, 0, 0)
        mainDiscord.Size = UDim2.new(0, 30, 0, 30)
        mainDiscord.Image = "rbxassetid://"..tostring(img)
        mainDiscord.ImageColor3 = Color3.fromRGB(200, 200, 200)
        
            local MainFramePage = Instance.new("ScrollingFrame")
            MainFramePage.Name = text.."_Page"
            MainFramePage.Parent = PageList
            MainFramePage.Active = true
            MainFramePage.BackgroundColor3 = Color3.fromRGB(51,255,255)
            MainFramePage.BackgroundTransparency = 1.000
            MainFramePage.BorderSizePixel = 1
            MainFramePage.Size = UDim2.new(0, 390, 0, 370)
            MainFramePage.CanvasSize = UDim2.new(0, 0, 0, 0)
            MainFramePage.ScrollBarThickness = 0
            
    
            
            local UIPadding = Instance.new("UIPadding")
            local UIListLayout = Instance.new("UIListLayout")
            
            UIPadding.Parent = MainFramePage
            UIPadding.PaddingLeft = UDim.new(0, 10)
            UIPadding.PaddingTop = UDim.new(0, 10)
    
            UIListLayout.Padding = UDim.new(0,4)
            UIListLayout.Parent = MainFramePage
            UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
            
            mainDiscord.MouseButton1Click:Connect(function()
            Sound = Instance.new("Sound", game:GetService("Workspace")) -- ตรงนี้ไม่ต้องไปสน นาจา ;0;
    Sound.Name = "Notify" -- ชื่อเสียง \;
    Sound.SoundId = "rbxassetid://3020841054" -- เลขขขขขเสียง ;/
    Sound.Looped = false -- วนลูป :>
    Sound.Playing = true -- เล่นเสียง :<
    Sound.Volume = 1 -- ระดับเสียงงงงงงง ;-;
                for i,v in next, ScrollTab:GetChildren() do
                    if v:IsA("TextButton") then
                        TweenService:Create(
                            v,
                            TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
                            {TextTransparency = 0}
                        ):Play()
                    end
                    TweenService:Create(
                        TabButton,
                        TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
                        {TextTransparency = 0}
                    ):Play()
                end
                for i,v in next, PageList:GetChildren() do
                    currentpage2 = string.gsub(TabButton.Name,"Server","").."_Page"
                    if v.Name == currentpage2 then
                        UIPageLayout:JumpTo(v)
                    end
                end
            end)
    
            if abc == false then
                
                for i,v in next, ScrollTab:GetChildren() do
                    if v:IsA("TextButton") then
                        TweenService:Create(
                            v,
                            TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
                            {TextTransparency = 0}
                        ):Play()
                    end
                    TweenService:Create(
                        TabButton,
                        TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
                        {TextTransparency = 0}
                    ):Play()
                end
                UIPageLayout:JumpToIndex(0)
                abc = true
            end
            
            game:GetService("RunService").Stepped:Connect(function()
                pcall(function()
                    MainFramePage.CanvasSize = UDim2.new(0,0,0,UIListLayout.AbsoluteContentSize.Y + 20)
                    ScrollTab.CanvasSize = UDim2.new(0,PLL.AbsoluteContentSize.X + 20,0,0)
                end)
            end)
     
     coroutine.wrap(function()
     while wait() do
     end
     end)()
     
         
     
     coroutine.wrap(function()
     while wait() do
     end
     end)()
        
        
        local MainFramePage2 = Instance.new("ScrollingFrame")
            MainFramePage2.Name = text.."_Page"
            MainFramePage2.Parent = PageList2
            MainFramePage2.Active = true
            MainFramePage2.BackgroundColor3 = Color3.fromRGB(51,255,255)
            MainFramePage2.BackgroundTransparency = 1.000
            MainFramePage2.BorderSizePixel = 0
            MainFramePage2.Size = UDim2.new(0, 320, 0, 370)
            MainFramePage2.CanvasSize = UDim2.new(0, 0, 0, 0)
            MainFramePage2.ScrollBarThickness = 0
            
            local UIPadding2 = Instance.new("UIPadding")
            local UIListLayout2 = Instance.new("UIListLayout")
            
            UIPadding2.Parent = MainFramePage2
            UIPadding2.PaddingLeft = UDim.new(0, 10)
            UIPadding2.PaddingTop = UDim.new(0, 10)
    
            UIListLayout2.Padding = UDim.new(0,4)
            UIListLayout2.Parent = MainFramePage2
            UIListLayout2.SortOrder = Enum.SortOrder.LayoutOrder
            
            mainDiscord.MouseButton1Click:Connect(function()
                for i,v in next, ScrollTab:GetChildren() do
                    if v:IsA("TextButton") then
                        TweenService:Create(
                            v,
                            TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
                            {TextTransparency = 0}
                        ):Play()
                    end
                    TweenService:Create(
                        TabButton,
                        TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
                        {TextTransparency = 0}
                    ):Play()
                end
                for i,v in next, PageList2:GetChildren() do
                    currentpage2 = string.gsub(TabButton.Name,"Server","").."_Page"
                    if v.Name == currentpage2 then
                        UIPageLayout2:JumpTo(v)
                    end
                end
            end)
    
            if abc == false then
                for i,v in next, ScrollTab:GetChildren() do
                    if v:IsA("TextButton") then
                        TweenService:Create(
                            v,
                            TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
                            {TextTransparency = 0}
                        ):Play()
                    end
                    TweenService:Create(
                        mainDiscord,
                        TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),
                        {TextTransparency = 0}
                    ):Play()
                end
                UIPageLayout2:JumpToIndex(0)
                abc = true
            end
            
            game:GetService("RunService").Stepped:Connect(function()
                pcall(function()
                    MainFramePage2.CanvasSize = UDim2.new(0,0,0,UIListLayout2.AbsoluteContentSize.Y + 20)
                    ScrollTab.CanvasSize = UDim2.new(0,PLL.AbsoluteContentSize.X + 20,0,0)
                end)
            end)
     
     coroutine.wrap(function()
     while wait() do
     end
     end)()
    
     
         
     
     coroutine.wrap(function()
     while wait() do
     end
     end)()
        end
        
            local main = {}
            local TweenService = game:GetService("TweenService")
    
    function main:AddButtonR(text, callback)
        if not MainFramePage2 then
            warn("MainFramePage2 is not defined")
            return
        end
        
        local Button2 = Instance.new("Frame")
        local UICorner2 = Instance.new("UICorner")
        local TextBtn2 = Instance.new("TextButton")
        local UICorner_1 = Instance.new("UICorner")
        local Black2 = Instance.new("Frame")
        local UICorner_2 = Instance.new("UICorner")
        
        Button2.Name = "Button"
        Button2.Parent = MainFramePage2
        Button2.BackgroundColor3 = _G.Color or Color3.new(1, 1, 1)
        Button2.Size = UDim2.new(0, 280, 0, 28)
        
        UICorner2.CornerRadius = UDim.new(0, 5)
        UICorner2.Parent = Button2
        
        TextBtn2.Name = "TextBtn"
        TextBtn2.Parent = Button2
        TextBtn2.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
        TextBtn2.Position = UDim2.new(0, 1, 0, 1)
        TextBtn2.Size = UDim2.new(0, 278, 0, 26)
        TextBtn2.AutoButtonColor = false
        TextBtn2.Font = Enum.Font.Code
        TextBtn2.Text = text
        TextBtn2.TextColor3 = Color3.fromRGB(225, 225, 225)
        TextBtn2.TextSize = 12
        
        UICorner_1.CornerRadius = UDim.new(0, 5)
        UICorner_1.Parent = TextBtn2
        
        Black2.Name = "Black"
        Black2.Parent = Button2
        Black2.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
        Black2.BackgroundTransparency = 1
        Black2.BorderSizePixel = 0
        Black2.Position = UDim2.new(0, 1, 0, 1)
        Black2.Size = UDim2.new(0, 280, 0, 26)
        
        UICorner_2.CornerRadius = UDim.new(0, 5)
        UICorner_2.Parent = Black2
    
        TextBtn2.MouseEnter:Connect(function()
            local tween = TweenService:Create(
                Black2,
                TweenInfo.new(0.4, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
                {BackgroundTransparency = 0.7}
            )
            tween:Play()
        end)
        
        TextBtn2.MouseLeave:Connect(function()
            local tween = TweenService:Create(
                Black2,
                TweenInfo.new(0.4, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
                {BackgroundTransparency = 1}
            )
            tween:Play()
        end)
        
        TextBtn2.MouseButton1Click:Connect(function()
            TextBtn2.TextSize = 0
            local tween = TweenService:Create(
                TextBtn2,
                TweenInfo.new(0.4, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
                {TextSize = 12}
            )
            tween:Play()
            if callback then
                callback()
            else
                warn("Callback function is not defined")
            end
        end)
    end
    
    function main:AddButtonL(text, callback)
        if not MainFramePage then
            warn("MainFramePage is not defined")
            return
        end
    
        local Button = Instance.new("Frame")
        local UICorner = Instance.new("UICorner")
        local TextBtn = Instance.new("TextButton")
        local UICorner_2 = Instance.new("UICorner")
        local Black = Instance.new("Frame")
        local UICorner_3 = Instance.new("UICorner")
        
        Button.Name = "Button"
        Button.Parent = MainFramePage
        Button.BackgroundColor3 = _G.Color or Color3.new(1, 1, 1)
        Button.Size = UDim2.new(0, 280, 0, 28)
        
        UICorner.CornerRadius = UDim.new(0, 5)
        UICorner.Parent = Button
        
        TextBtn.Name = "TextBtn"
        TextBtn.Parent = Button
        TextBtn.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
        TextBtn.Position = UDim2.new(0, 1, 0, 1)
        TextBtn.Size = UDim2.new(0, 278, 0, 26)
        TextBtn.AutoButtonColor = false
        TextBtn.Font = Enum.Font.Code
        TextBtn.Text = text
        TextBtn.TextColor3 = Color3.fromRGB(225, 225, 225)
        TextBtn.TextSize = 12
        
        UICorner_2.CornerRadius = UDim.new(0, 5)
        UICorner_2.Parent = TextBtn
        
        Black.Name = "Black"
        Black.Parent = Button
        Black.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
        Black.BackgroundTransparency = 1
        Black.BorderSizePixel = 0
        Black.Position = UDim2.new(0, 1, 0, 1)
        Black.Size = UDim2.new(0, 280, 0, 26)
        
        UICorner_3.CornerRadius = UDim.new(0, 5)
        UICorner_3.Parent = Black
    
        TextBtn.MouseEnter:Connect(function()
            local tween = TweenService:Create(
                Black,
                TweenInfo.new(0.4, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
                {BackgroundTransparency = 0.7}
            )
            tween:Play()
        end)
        
        TextBtn.MouseLeave:Connect(function()
            local tween = TweenService:Create(
                Black,
                TweenInfo.new(0.4, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
                {BackgroundTransparency = 1}
            )
            tween:Play()
        end)
        
        TextBtn.MouseButton1Click:Connect(function()
            TextBtn.TextSize = 0
            local tween = TweenService:Create(
                TextBtn,
                TweenInfo.new(0.4, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
                {TextSize = 12}
            )
            tween:Play()
            if callback then
                callback()
            else
                warn("Callback function is not defined")
            end
        end)
    end
    function main:AddToggle(text, config, callback, parentFrame)
        config = config or false
        local toggled = config
        local Toggle = Instance.new("Frame", parentFrame)
        local Button = Instance.new("TextButton", Toggle)
        local Label = Instance.new("TextLabel", Toggle)
        local ToggleImage = Instance.new("Frame", Toggle)
        local Circle = Instance.new("ImageLabel", ToggleImage)
        local True = Instance.new("TextLabel", Circle)
        
        Toggle.BackgroundColor3 = _G.Color
        Toggle.Size = UDim2.new(0, 280, 0, 28)
        Button.Size, Button.Position, Button.Text = UDim2.new(0, 278, 0, 26), UDim2.new(0, 1, 0, 1), ""
        Label.Text, Label.Size, Label.Position = text, UDim2.new(0, 278, 0, 26), UDim2.new(0, 1, 0, 1)
        ToggleImage.Size, ToggleImage.Position, ToggleImage.BackgroundColor3 = UDim2.new(0, 22, 0, 20), UDim2.new(0, 250, 0, 4), Color3.fromRGB(20, 20, 20)
        Circle.Size, Circle.Position, Circle.BackgroundColor3 = UDim2.new(0, 18, 0, 16), UDim2.new(0, 2, 0, 2), Color3.fromRGB(30, 30, 30)
        True.Size, True.Text = UDim2.new(0, 18, 0, 16), ""
        
        Button.MouseButton1Click:Connect(function()
            toggled = not toggled
            True.Text = toggled and "✔" or ""
            TweenService:Create(Circle, TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
                {BackgroundColor3 = toggled and Color3.fromRGB(0, 255, 0) or Color3.fromRGB(30, 30, 30)}):Play()
            pcall(callback, toggled)
        end)
        
        if config then
            True.Text = "✔"
            TweenService:Create(Circle, TweenInfo.new(0.4, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
                {BackgroundColor3 = Color3.fromRGB(0, 255, 0)}):Play()
            pcall(callback, toggled)
        end
    end
    
    function main:AddToggleL(text, config, callback)
        self:AddToggle(text, config, callback, MainFramePage)
    end
    
    function main:AddToggleR(text, config, callback)
        self:AddToggle(text, config, callback, MainFramePage2)
    end
    
            
    
            
            -- Helper function สำหรับสร้าง Dropdown
    local function createDropdown(params)
        local parent    = params.parent or error("Parent is required")
        local title     = params.title or "Dropdown"
        local list      = params.list or {}
        local default   = params.config or "Select First"
        local callback  = params.callback or function() end
        local style     = params.style or "L"  -- "L" หรือ "R" เพื่อปรับสไตล์
    
        local dropdown = {}
        local toggled = false
        local itemCount = 0
        local frameExtra = 0  -- ส่วนเพิ่มความสูงของ frame ตามจำนวน item
    
        -- สร้าง Main Container (DropSizeFrame)
        local dropSizeFrame = Instance.new("Frame")
        dropSizeFrame.Name = title
        dropSizeFrame.Parent = parent
        dropSizeFrame.BackgroundColor3 = _G.SectionColor
        dropSizeFrame.BackgroundTransparency = 1
        dropSizeFrame.Size = UDim2.new(0, 280, 0, 60)
    
        -- สร้าง Frame ภายใน
        local frame = Instance.new("Frame")
        frame.Name = "Frame"
        frame.Parent = dropSizeFrame
        frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
        frame.BorderSizePixel = 0
        frame.Position = UDim2.new(0, 3, 0, 0)
        frame.Size = UDim2.new(0, 278, 0, 60)
    
        local uiStroke = Instance.new("UIStroke")
        uiStroke.Name = "UIStroke"
        uiStroke.Parent = frame
        uiStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
        uiStroke.Color = Color3.fromRGB(255, 255, 255)
        uiStroke.LineJoinMode = Enum.LineJoinMode.Round
        uiStroke.Thickness = 0.7
        uiStroke.Transparency = 0
    
        local uiCorner = Instance.new("UICorner")
        uiCorner.Parent = frame
        uiCorner.CornerRadius = UDim.new(0, 3)
    
        -- สร้าง DropCover (ส่วนหัวของ dropdown)
        local dropCover = Instance.new("Frame")
        dropCover.Name = "DropCover"
        dropCover.Parent = frame
        dropCover.BackgroundColor3 = _G.BackgroundItemColor
        dropCover.BackgroundTransparency = 1
        dropCover.BorderSizePixel = 0
        dropCover.Position = UDim2.new(0, 0, 0, 0)
        dropCover.Size = UDim2.new(0, 202, 0, 30)
    
        local imageLabel = Instance.new("ImageLabel")
        imageLabel.Name = "ImageLabel"
        imageLabel.Parent = dropCover
        imageLabel.BackgroundColor3 = _G.SectionColor
        imageLabel.BackgroundTransparency = 1
        imageLabel.BorderSizePixel = 0
        imageLabel.Position = UDim2.new(0, 5, 0, 6)
        imageLabel.Size = UDim2.new(0, 18, 0, 18)
        imageLabel.Image = "rbxassetid://8825010231"
        imageLabel.ImageColor3 = Color3.fromRGB(255, 255, 255)
    
        local space = Instance.new("TextLabel")
        space.Name = "Space"
        space.Parent = dropCover
        space.BackgroundColor3 = _G.SectionColor
        space.BackgroundTransparency = 1
        space.Position = UDim2.new(0, 30, 0, 0)
        space.Size = UDim2.new(0, 15, 0, 30)
        space.Font = Enum.Font.Code
        space.Text = "|"
        space.TextSize = 13
        space.TextColor3 = Color3.fromRGB(255, 255, 255)
        space.TextXAlignment = Enum.TextXAlignment.Center
    
        local titleLabel = Instance.new("TextLabel")
        titleLabel.Name = "Title"
        titleLabel.Parent = dropCover
        titleLabel.BackgroundColor3 = _G.SectionColor
        titleLabel.BackgroundTransparency = 1
        titleLabel.Position = UDim2.new(0, 50, 0, 0)
        titleLabel.Size = UDim2.new(0, 207, 0, 30)
        titleLabel.Font = Enum.Font.Code
        titleLabel.Text = title
        titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
        titleLabel.TextSize = 12
        titleLabel.TextXAlignment = Enum.TextXAlignment.Left
    
        local imageButton = Instance.new("ImageButton")
        imageButton.Name = "ImageButton"
        imageButton.Parent = dropCover
        imageButton.BackgroundColor3 = _G.WindowBackgroundColor
        imageButton.BackgroundTransparency = 1
        imageButton.Position = UDim2.new(0, 250, 0, 7)
        imageButton.Size = UDim2.new(0, 23, 0, 18)
        imageButton.Image = "rbxassetid://6583628103"
        imageButton.ImageColor3 = Color3.fromRGB(51, 255, 255)
        imageButton.Rotation = 180
    
        -- สร้าง TextList ที่แสดง item ที่ถูกเลือก
        local dropTextList = Instance.new("TextLabel")
        dropTextList.Name = "DropTextList"
        dropTextList.Parent = frame
        dropTextList.BackgroundColor3 = _G.BackgroundItemColor
        dropTextList.BackgroundTransparency = 1
        dropTextList.Position = UDim2.new(0, 3, 0, 30)
        dropTextList.Size = UDim2.new(0, 278, 0, 25)
        dropTextList.Font = Enum.Font.Code
        dropTextList.Text = default
        dropTextList.TextColor3 = Color3.fromRGB(255, 255, 255)
        dropTextList.TextSize = 12
        dropTextList.TextXAlignment = Enum.TextXAlignment.Center
    
        local uiCorner2 = Instance.new("UICorner")
        uiCorner2.Parent = dropTextList
        uiCorner2.CornerRadius = UDim.new(0, 0)
    
        local dropStrokeList = Instance.new("UIStroke")
        dropStrokeList.Name = "DropStrokeList"
        dropStrokeList.Parent = dropTextList
        dropStrokeList.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
        dropStrokeList.Color = Color3.fromRGB(255, 255, 255)
        dropStrokeList.LineJoinMode = Enum.LineJoinMode.Round
        dropStrokeList.Thickness = 0.2
        dropStrokeList.Transparency = 0
    
        -- สร้าง ScrollingFrame สำหรับรายการ item
        local dropItemScroll = Instance.new("ScrollingFrame")
        dropItemScroll.Name = "DropItemScroll"
        dropItemScroll.Parent = frame
        dropItemScroll.BackgroundColor3 = _G.SectionColor
        dropItemScroll.BackgroundTransparency = 1
        dropItemScroll.Position = UDim2.new(0, 3, 0, 60)
        dropItemScroll.Size = UDim2.new(0, 280, 0, 0)
        dropItemScroll.ScrollBarThickness = 0
        dropItemScroll.CanvasSize = UDim2.new(0, 0, 0, 0)
    
        local dropItemLayout = Instance.new("UIListLayout")
        dropItemLayout.Name = "DropItemLayout"
        dropItemLayout.Parent = dropItemScroll
        dropItemLayout.SortOrder = Enum.SortOrder.LayoutOrder
        dropItemLayout.Padding = UDim.new(0, 0)
    
        local dropItemStroke = Instance.new("UIStroke")
        dropItemStroke.Name = "DropItemStroke"
        dropItemStroke.Parent = dropItemScroll
        dropItemStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
        dropItemStroke.Color = Color3.fromRGB(51, 255, 255)
        dropItemStroke.LineJoinMode = Enum.LineJoinMode.Round
        dropItemStroke.Thickness = 0
        dropItemStroke.Transparency = 0
    
        local function updateCanvasSize()
            dropItemScroll.CanvasSize = UDim2.new(0, 0, 0, dropItemLayout.AbsoluteContentSize.Y)
        end
    
        local function collapseDropdown()
            toggled = false
            dropSizeFrame:TweenSize(UDim2.new(0, 278, 0, 60), 'InOut', 'Linear', 0.08)
            frame:TweenSize(UDim2.new(0, 278, 0, 60), 'InOut', 'Linear', 0.08)
            dropItemScroll:TweenSize(UDim2.new(0, 278, 0, 0), 'InOut', 'Linear', 0.08)
            game.TweenService:Create(imageButton, TweenInfo.new(0.08, Enum.EasingStyle.Linear, Enum.EasingDirection.InOut), {Rotation = 180}):Play()
            game.TweenService:Create(imageButton, TweenInfo.new(0.08, Enum.EasingStyle.Linear, Enum.EasingDirection.InOut), {ImageColor3 = Color3.fromRGB(51, 255, 255)}):Play()
        end
    
        -- Toggle dropdown เมื่อคลิกปุ่ม
        imageButton.MouseButton1Click:Connect(function()
            if toggled then
                collapseDropdown()
            else
                toggled = true
                dropSizeFrame:TweenSize(UDim2.new(0, 278, 0, 65 + frameExtra), 'InOut', 'Linear', 0.08)
                frame:TweenSize(UDim2.new(0, 278, 0, 65 + frameExtra), 'InOut', 'Linear', 0.08)
                dropItemScroll:TweenSize(UDim2.new(0, 278, 0, frameExtra), 'InOut', 'Linear', 0.08)
                game.TweenService:Create(imageButton, TweenInfo.new(0.08, Enum.EasingStyle.Linear, Enum.EasingDirection.InOut), {Rotation = 0}):Play()
                game.TweenService:Create(imageButton, TweenInfo.new(0.08, Enum.EasingStyle.Linear, Enum.EasingDirection.InOut), {ImageColor3 = Color3.fromRGB(51, 255, 255)}):Play()
            end
        end)
    
        -- ฟังก์ชันสำหรับเพิ่ม item เข้าไปใน dropdown
        local function addItem(itemText)
            itemText = itemText or "None..."
            itemCount = itemCount + 1
            -- กำหนดความสูงของ dropdown ตามจำนวน item
            if itemCount == 1 then
                frameExtra = 30
            elseif itemCount == 2 then
                frameExtra = 60
            elseif itemCount == 3 then
                frameExtra = 90
            else
                frameExtra = 120
            end
    
            local itemButton = Instance.new("TextButton")
            itemButton.Name = "ItemList"
            itemButton.Parent = dropItemScroll
            -- ปรับสไตล์ของ dropdown ตามแบบ L หรือ R
            if style == "R" then
                itemButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                itemButton.TextColor3 = Color3.fromRGB(51, 255, 255)
            else
                itemButton.BackgroundColor3 = Color3.fromRGB(51, 255, 255)
                itemButton.TextColor3 = Color3.fromRGB(51, 255, 255)
            end
            itemButton.BackgroundTransparency = 1
            itemButton.Size = UDim2.new(0, 278, 0, 30)
            itemButton.AutoButtonColor = false
            itemButton.Font = Enum.Font.Code
            itemButton.TextSize = 12
            itemButton.Text = itemText
            itemButton.TextXAlignment = Enum.TextXAlignment.Center
    
            itemButton.MouseEnter:Connect(function()
                game.TweenService:Create(itemButton, TweenInfo.new(0.08, Enum.EasingStyle.Linear, Enum.EasingDirection.InOut), {BackgroundTransparency = 0.8}):Play()
            end)
            itemButton.MouseLeave:Connect(function()
                game.TweenService:Create(itemButton, TweenInfo.new(0.08, Enum.EasingStyle.Linear, Enum.EasingDirection.InOut), {BackgroundTransparency = 1}):Play()
            end)
            itemButton.MouseButton1Click:Connect(function()
                dropTextList.Text = itemText
                pcall(callback, itemText)
                collapseDropdown()
            end)
            updateCanvasSize()
        end
    
        -- เพิ่ม item เริ่มต้นจาก list
        for _,v in ipairs(list) do
            addItem(v)
        end
    
        -- API สำหรับ dropdown
        function dropdown:Clear()
            for _,child in ipairs(dropItemScroll:GetChildren()) do
                if child:IsA("TextButton") then
                    child:Destroy()
                end
            end
            frameExtra = 0
            itemCount = 0
            dropTextList.Text = "Reset Successfully..."
            toggled = false
            collapseDropdown()
        end
    
        function dropdown:Add(newItem)
            addItem(newItem)
        end
    
        return dropdown
    end
    
    -- สร้าง Dropdown ซ้าย (L)
    function main:AddDropdownL(droptitle, list, config, callback)
        return createDropdown({
            parent = MainFramePage,
            title = droptitle,
            list = list,
            config = config,
            callback = callback,
            style = "L"
        })
    end
    
    -- สร้าง Dropdown ขวา (R)
    function main:AddDropdownR(droptitle, list, config, callback)
        return createDropdown({
            parent = MainFramePage2,
            title = droptitle,
            list = list,
            config = config,
            callback = callback,
            style = "R"
        })
    end
    
    local function createMultiDropdown(params)
        local parent    = params.parent or error("Parent is required")
        local title     = params.title or "MultiDropdown"
        local list      = params.list or {}
        local default   = params.config or "Select Items"
        local callback  = params.callback or function() end
        local style     = params.style or "L"
        
        local dropdown = {}
        local selectedItems = {}
        
        local dropSizeFrame = Instance.new("Frame")
        dropSizeFrame.Name = title
        dropSizeFrame.Parent = parent
        dropSizeFrame.BackgroundTransparency = 1
        dropSizeFrame.Size = UDim2.new(0, 280, 0, 60)
        
        local frame = Instance.new("Frame")
        frame.Parent = dropSizeFrame
        frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
        frame.Size = UDim2.new(0, 278, 0, 60)
        
        local dropTextList = Instance.new("TextLabel")
        dropTextList.Parent = frame
        dropTextList.Size = UDim2.new(0, 278, 0, 25)
        dropTextList.Text = default
        dropTextList.TextColor3 = Color3.fromRGB(255, 255, 255)
        dropTextList.TextSize = 12
        dropTextList.TextXAlignment = Enum.TextXAlignment.Center
        
        local dropItemScroll = Instance.new("ScrollingFrame")
        dropItemScroll.Parent = frame
        dropItemScroll.Position = UDim2.new(0, 3, 0, 60)
        dropItemScroll.Size = UDim2.new(0, 280, 0, 0)
        dropItemScroll.ScrollBarThickness = 0
        dropItemScroll.CanvasSize = UDim2.new(0, 0, 0, 0)
        
        local dropItemLayout = Instance.new("UIListLayout")
        dropItemLayout.Parent = dropItemScroll
        
        local function updateSelectedText()
            dropTextList.Text = #selectedItems > 0 and table.concat(selectedItems, ", ") or default
        end
        
        local function addItem(itemText)
            local itemButton = Instance.new("TextButton")
            itemButton.Parent = dropItemScroll
            itemButton.Size = UDim2.new(0, 278, 0, 30)
            itemButton.Text = itemText
            
            itemButton.MouseButton1Click:Connect(function()
                local index = table.find(selectedItems, itemText)
                if index then
                    table.remove(selectedItems, index)
                    itemButton.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
                else
                    table.insert(selectedItems, itemText)
                    itemButton.BackgroundColor3 = Color3.fromRGB(51, 255, 255)
                end
                updateSelectedText()
                callback(selectedItems)
            end)
        end
        
        for _, v in ipairs(list) do
            addItem(v)
        end
        
        return dropdown
    end
    
    function main:AddMultiDropdownL(droptitle, list, config, callback)
        return createMultiDropdown({
            parent = MainFramePage,
            title = droptitle,
            list = list,
            config = config,
            callback = callback,
            style = "L"
        })
    end
    
    function main:AddMultiDropdownR(droptitle, list, config, callback)
        return createMultiDropdown({
            parent = MainFramePage2,
            title = droptitle,
            list = list,
            config = config,
            callback = callback,
            style = "R"
        })
    end
    
    
    local function createSlider(parent, text, min, max, set, callback)
        local Slider = Instance.new("Frame")
        local slidercorner = Instance.new("UICorner")
        local sliderr = Instance.new("Frame")
        local sliderrcorner = Instance.new("UICorner")
        local SliderLabel = Instance.new("TextLabel")
        local AHEHE = Instance.new("TextButton")
        local bar = Instance.new("Frame")
        local bar1 = Instance.new("Frame")
        local bar1corner = Instance.new("UICorner")
        local circlebar = Instance.new("Frame")
        local UICorner = Instance.new("UICorner")
        local slidervalue = Instance.new("Frame")
        local valuecorner = Instance.new("UICorner")
        local TextBox = Instance.new("TextBox")
        local UICorner_2 = Instance.new("UICorner")
    
        Slider.Parent = parent
        Slider.BackgroundColor3 = _G.Color
        Slider.Size = UDim2.new(0, 280, 0, 51)
    
        slidercorner.CornerRadius = UDim.new(0, 5)
        slidercorner.Parent = Slider
    
        sliderr.Parent = Slider
        sliderr.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
        sliderr.Position = UDim2.new(0, 1, 0, 1)
        sliderr.Size = UDim2.new(0, 278, 0, 49)
    
        sliderrcorner.CornerRadius = UDim.new(0, 5)
        sliderrcorner.Parent = sliderr
    
        SliderLabel.Parent = sliderr
        SliderLabel.BackgroundTransparency = 1.0
        SliderLabel.Position = UDim2.new(0, 15, 0, 0)
        SliderLabel.Size = UDim2.new(0, 100, 0, 26)
        SliderLabel.Font = Enum.Font.Code
        SliderLabel.Text = text
        SliderLabel.TextColor3 = Color3.fromRGB(225, 225, 225)
        SliderLabel.TextSize = 16.0
        SliderLabel.TextXAlignment = Enum.TextXAlignment.Left
    
        AHEHE.Parent = sliderr
        AHEHE.BackgroundTransparency = 1.0
        AHEHE.Position = UDim2.new(0, 10, 0, 35)
        AHEHE.Size = UDim2.new(0, 260, 0, 5)
    
        bar.Parent = AHEHE
        bar.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
        bar.Size = UDim2.new(0, 260, 0, 5)
    
        bar1.Parent = bar
        bar1.BackgroundColor3 = _G.Color
        bar1.Size = UDim2.new(set / max, 0, 0, 5)
    
        bar1corner.CornerRadius = UDim.new(0, 5)
        bar1corner.Parent = bar1
    
        circlebar.Parent = bar1
        circlebar.BackgroundColor3 = Color3.fromRGB(225, 225, 225)
        circlebar.Position = UDim2.new(1, -2, 0, -3)
        circlebar.Size = UDim2.new(0, 10, 0, 10)
    
        UICorner.CornerRadius = UDim.new(0, 100)
        UICorner.Parent = circlebar
    
        slidervalue.Parent = sliderr
        slidervalue.BackgroundColor3 = _G.Color
        slidervalue.Position = UDim2.new(0, 220, 0, 5)
        slidervalue.Size = UDim2.new(0, 50, 0, 15)
    
        valuecorner.CornerRadius = UDim.new(0, 5)
        valuecorner.Parent = slidervalue
    
        TextBox.Parent = slidervalue
        TextBox.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
        TextBox.Position = UDim2.new(0, 1, 0, 1)
        TextBox.Size = UDim2.new(0, 48, 0, 13)
        TextBox.Font = Enum.Font.Code
        TextBox.TextColor3 = Color3.fromRGB(225, 225, 225)
        TextBox.TextSize = 9.0
        TextBox.Text = set
    
        UICorner_2.CornerRadius = UDim.new(0, 5)
        UICorner_2.Parent = TextBox
    
        local uis = game:GetService("UserInputService")
    
        local function updateSlider(input)
            local pos = math.clamp(input.Position.X - bar.AbsolutePosition.X, 0, 260)
            bar1.Size = UDim2.new(0, pos, 0, 5)
            circlebar.Position = UDim2.new(0, pos - 2, 0, -3)
    
            local Value = math.floor(((max - min) / 260) * pos + min)
            TextBox.Text = Value
            pcall(callback, Value)
        end
    
        AHEHE.InputBegan:Connect(function(input)
            if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
                updateSlider(input)
    
                local moveConnection
                local releaseConnection
    
                moveConnection = uis.InputChanged:Connect(function(movingInput)
                    if movingInput.UserInputType == Enum.UserInputType.MouseMovement or movingInput.UserInputType == Enum.UserInputType.Touch then
                        updateSlider(movingInput)
                    end
                end)
    
                releaseConnection = uis.InputEnded:Connect(function(endedInput)
                    if endedInput.UserInputType == Enum.UserInputType.MouseButton1 or endedInput.UserInputType == Enum.UserInputType.Touch then
                        moveConnection:Disconnect()
                        releaseConnection:Disconnect()
                    end
                end)
            end
        end)
    
        TextBox.FocusLost:Connect(function()
            local Value = tonumber(TextBox.Text) or set
            if Value < min then Value = min end
            if Value > max then Value = max end
            TextBox.Text = Value
            bar1.Size = UDim2.new((Value - min) / (max - min), 0, 0, 5)
            pcall(callback, Value)
        end)
    end
    
    function main:AddSliderL(text, min, max, set, callback)
        createSlider(MainFramePage, text, min, max, set, callback)
    end
    
    function main:AddSliderR(text, min, max, set, callback)
        createSlider(MainFramePage2, text, min, max, set, callback)
    end
    
    
    
    function main:AddTextbox(position, parentFrame, text, texts, disappear, callback)
        local Textbox = Instance.new("Frame")
        local TextboxCorner = Instance.new("UICorner")
        local TextboxInner = Instance.new("Frame")
        local TextboxInnerCorner = Instance.new("UICorner")
        local TextboxLabel = Instance.new("TextLabel")
        local txtbtn = Instance.new("TextButton")
        local RealTextbox = Instance.new("TextBox")
        local UICorner = Instance.new("UICorner")
    
        -- Textbox Properties
        Textbox.Name = "Textbox"
        Textbox.Parent = parentFrame
        Textbox.BackgroundColor3 = _G.Color
        Textbox.Size = UDim2.new(0, 280, 0, 57)
    
        TextboxCorner.CornerRadius = UDim.new(0, 5)
        TextboxCorner.Parent = Textbox
    
        -- Inner Frame
        TextboxInner.Name = "TextboxInner"
        TextboxInner.Parent = Textbox
        TextboxInner.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
        TextboxInner.Position = UDim2.new(0, 1, 0, 1)
        TextboxInner.Size = UDim2.new(0, 278, 0, 55)
    
        TextboxInnerCorner.CornerRadius = UDim.new(0, 5)
        TextboxInnerCorner.Parent = TextboxInner
    
        -- Label
        TextboxLabel.Name = "TextboxLabel"
        TextboxLabel.Parent = Textbox
        TextboxLabel.BackgroundTransparency = 1.0
        TextboxLabel.Position = UDim2.new(0, 15, 0, 8)
        TextboxLabel.Size = UDim2.new(0, 250, 0, 12)
        TextboxLabel.Font = Enum.Font.Code
        TextboxLabel.Text = text
        TextboxLabel.TextColor3 = Color3.fromRGB(225, 225, 225)
        TextboxLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 0) -- Shadow Effect
        TextboxLabel.TextStrokeTransparency = 0.5
        TextboxLabel.TextSize = 12.0
        TextboxLabel.TextXAlignment = Enum.TextXAlignment.Left
    
        -- Input Box
        RealTextbox.Name = "RealTextbox"
        RealTextbox.Parent = Textbox
        RealTextbox.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
        RealTextbox.Position = UDim2.new(0, 3, 0, 30)
        RealTextbox.Size = UDim2.new(0, 276, 0, 24)
        RealTextbox.Font = Enum.Font.Code
        RealTextbox.Text = texts
        RealTextbox.TextColor3 = Color3.fromRGB(255, 225, 225)
        RealTextbox.TextScaled = true
        RealTextbox.TextStrokeColor3 = Color3.fromRGB(0, 0, 0) -- Shadow Effect
        RealTextbox.TextStrokeTransparency = 0.5
        RealTextbox.TextSize = 11.0
    
        -- Disappear Effect
        RealTextbox.FocusLost:Connect(function()
            callback(RealTextbox.Text)
            if disappear then
                for i = 0, 1, 0.1 do
                    RealTextbox.TextTransparency = i
                    TextboxLabel.TextTransparency = i
                    task.wait(0.05)
                end
                RealTextbox.Text = ""
                TextboxLabel.TextTransparency = 0
                RealTextbox.TextTransparency = 0
            end
        end)
    
        -- Rounded Corners
        UICorner.CornerRadius = UDim.new(0, 5)
        UICorner.Parent = RealTextbox
    end
    
    -- Function Wrapper for Left & Right
    function main:AddTextboxLeft(text, texts, disappear, callback)
        self:AddTextbox("Left", MainFramePage, text, texts, disappear, callback)
    end
    
    function main:AddTextboxRight(text, texts, disappear, callback)
        self:AddTextbox("Right", MainFramePage2, text, texts, disappear, callback)
    end
    
            
            function main:AddLabelL(text)
                local Label = Instance.new("TextLabel")
                local PaddingLabel = Instance.new("UIPadding")
                local labelfunc = {}
        
                Label.Name = "Label"
                Label.Parent = MainFramePage
                Label.BackgroundColor3 = Color3.fromRGB(51,255,255)
                Label.BackgroundTransparency = 1.000
                Label.Size = UDim2.new(0, 360, 0, 20)
                Label.Font = Enum.Font.Code
                Label.TextColor3 = Color3.fromRGB(225, 225, 225)
                Label.TextSize = 14.000
                Label.Text = text
                Label.TextXAlignment = Enum.TextXAlignment.Left
    
                PaddingLabel.PaddingLeft = UDim.new(0,15)
                PaddingLabel.Parent = Label
                PaddingLabel.Name = "PaddingLabel"
        
                function labelfunc:Set(newtext)
                Label.Text = newtext
            end
            return labelfunc
            end
    
            function main:AddLabelR(text)
                local Labell = Instance.new("TextLabel")
                local PaddingLabell = Instance.new("UIPadding")
                local labelfunc = {}
        
                Labell.Name = "Label"
                Labell.Parent = MainFramePage2
                Labell.BackgroundColor3 = Color3.fromRGB(51,255,255)
                Labell.BackgroundTransparency = 1.000
                Labell.Size = UDim2.new(0, 360, 0, 20)
                Labell.Font = Enum.Font.Code
                Labell.TextColor3 = Color3.fromRGB(225, 225, 225)
                Labell.TextSize = 14.000
                Labell.Text = text
                Labell.TextXAlignment = Enum.TextXAlignment.Left
    
                PaddingLabell.PaddingLeft = UDim.new(0,15)
                PaddingLabell.Parent = Labell
                PaddingLabell.Name = "PaddingLabel"
        
                function labelfunc:Set(newtext)
                Labell.Text = newtext
            end
            return labelfunc
            end
    
    
    function main:Label1(text)
                local Label1 = Instance.new("TextLabel")
                local PaddingLabel1 = Instance.new("UIPadding")
                local Label1func = {}
        
                Label1.Name = "Label1"
                Label1.Parent = MainFramePage
                Label1.BackgroundColor3 = Color3.fromRGB(51,255,255)
                Label1.BackgroundTransparency = 1.000
                Label1.Size = UDim2.new(0, 360, 0, 20)
                Label1.Font = Enum.Font.Code
                Label1.TextColor3 = Color3.fromRGB(225, 225, 225)
                Label1.TextSize = 15.000
                Label1.Text = text
                Label1.TextXAlignment = Enum.TextXAlignment.Left
    
                PaddingLabel1.PaddingLeft = UDim.new(0,15)
                PaddingLabel1.Parent = Label1
                PaddingLabel1.Name = "PaddingLabel1"
    function Label1func:Refresh(tochange)
     Label1.Text = tochange
    end
    
    return Label1func
    end
    
            function main:AddSeperatorL(text)
                local Seperator = Instance.new("Frame")
                local Sep1 = Instance.new("Frame")
                local Sep2 = Instance.new("TextLabel")
                local Sep3 = Instance.new("Frame")
                
                Seperator.Name = "Seperator"
                Seperator.Parent = MainFramePage
                Seperator.BackgroundColor3 = Color3.fromRGB(51,255,255)
                Seperator.BackgroundTransparency = 1.000
                Seperator.Size = UDim2.new(0, 280, 0, 20)
                
                Sep1.Name = "Sep1"
                Sep1.Parent = Seperator
                Sep1.BackgroundColor3 = _G.Color
                Sep1.BorderSizePixel = 0
                Sep1.Position = UDim2.new(0, 0, 0, 10)
                Sep1.Size = UDim2.new(0, 20, 0, 1)
                
                Sep2.Name = "Sep2"
                Sep2.Parent = Seperator
                Sep2.BackgroundColor3 = Color3.fromRGB(51,255,255)
                Sep2.BackgroundTransparency = 1.000
                Sep2.Position = UDim2.new(0, 0.01, 0, 0)
                Sep2.Size = UDim2.new(0, 280, 0, 20)
                Sep2.Font = Enum.Font.Code
                Sep2.Text = text
                Sep2.TextColor3 = Color3.fromRGB(51,255,255)
                Sep2.TextSize = 20.000
                
                Sep3.Name = "Sep3"
                Sep3.Parent = Seperator
                Sep3.BackgroundColor3 = _G.Color
                Sep3.BorderSizePixel = 0
                Sep3.Position = UDim2.new(0, 260, 0, 10)
                Sep3.Size = UDim2.new(0, 20, 0, 1)
            end
    
            function main:AddSeperatorR(text)
                local Seperator2 = Instance.new("Frame")
                local Sep4 = Instance.new("Frame")
                local Sep5 = Instance.new("TextLabel")
                local Sep6 = Instance.new("Frame")
                
                Seperator2.Name = "Seperator"
                Seperator2.Parent = MainFramePage2
                Seperator2.BackgroundColor3 = Color3.fromRGB(51,255,255)
                Seperator2.BackgroundTransparency = 1.000
                Seperator2.Size = UDim2.new(0, 280, 0, 20)
                
                Sep4.Name = "Sep1"
                Sep4.Parent = Seperator2
                Sep4.BackgroundColor3 = _G.Color
                Sep4.BorderSizePixel = 0
                Sep4.Position = UDim2.new(0, 0, 0, 10)
                Sep4.Size = UDim2.new(0, 20, 0, 1)
                
                Sep5.Name = "Sep2"
                Sep5.Parent = Seperator2
                Sep5.BackgroundColor3 = Color3.fromRGB(51,255,255)
                Sep5.BackgroundTransparency = 1.000
                Sep5.Position = UDim2.new(0, 0.01, 0, 0)
                Sep5.Size = UDim2.new(0, 280, 0, 20)
                Sep5.Font = Enum.Font.Code
                Sep5.Text = text
                Sep5.TextColor3 = Color3.fromRGB(51,255,255)
                Sep5.TextSize = 20.000
                
                Sep6.Name = "Sep3"
                Sep6.Parent = Seperator2
                Sep6.BackgroundColor3 = _G.Color
                Sep6.BorderSizePixel = 0
                Sep6.Position = UDim2.new(0, 260, 0, 10)
                Sep6.Size = UDim2.new(0, 20, 0, 1)
            end
    
    
            function main:AddLineL()
                local Linee = Instance.new("Frame")
                local Line = Instance.new("Frame")
                
                Linee.Name = "Linee"
                Linee.Parent = MainFramePage
                Linee.BackgroundColor3 = Color3.fromRGB(255,0,0)
                Linee.BackgroundTransparency = 1.000
                Linee.Position = UDim2.new(0, 0, 0.119999997, 0)
                Linee.Size = UDim2.new(0, 280, 0, 20)
                
                Line.Name = "Line"
                Line.Parent = Linee
                Line.BackgroundColor3 = _G.Color
                Line.BorderSizePixel = 0
                Line.Position = UDim2.new(0, 0, 0, 10)
                Line.Size = UDim2.new(0, 280, 0, 1)
            end
            
            function main:AddLineR()
                local Lineee = Instance.new("Frame")
                local Line1 = Instance.new("Frame")
                
                Lineee.Name = "Linee"
                Lineee.Parent = MainFramePage2
                Lineee.BackgroundColor3 = Color3.fromRGB(255,0,0)
                Lineee.BackgroundTransparency = 1.000
                Lineee.Position = UDim2.new(0, 0, 0.119999997, 0)
                Lineee.Size = UDim2.new(0, 280, 0, 20)
                
                Line1.Name = "Line"
                Line1.Parent = Lineee
                Line1.BackgroundColor3 = _G.Color
                Line1.BorderSizePixel = 0
                Line1.Position = UDim2.new(0, 0, 0, 10)
                Line1.Size = UDim2.new(0, 280, 0, 1)
            end
            
            return main
        end
        return uitab
    end
--------------------------------------------------- Main Function ---------------------------------------------------------------

local tween

function Tween(Pos)
    local player = game.Players.LocalPlayer
    local character = player.Character
    if not character then return end

    local rootPart = character:FindFirstChild("HumanoidRootPart")
    local humanoid = character:FindFirstChildOfClass("Humanoid")
    if not rootPart or not humanoid then return end

    local distance = (Pos.Position - rootPart.Position).Magnitude

    if humanoid.Sit then
        humanoid.Sit = false
    end

    local tweenService = game:GetService("TweenService")
    local speed = 180 -- ความเร็วคงที่ (studs/sec)
    local duration = distance / speed -- คำนวณเวลาให้คงที่

    -- ถ้ามี Tween เก่าทำงานอยู่ ให้หยุดก่อน
    if tween then
        tween:Cancel()
    end

    local tweenInfo = TweenInfo.new(
        duration,
        Enum.EasingStyle.Linear, -- ทำให้ความเร็วคงที่ 100%
        Enum.EasingDirection.Out -- ไม่มีผลกับ Linear แต่ใส่ไว้เพื่อความชัดเจน
    )

    tween = tweenService:Create(rootPart, tweenInfo, {CFrame = Pos})
    tween:Play()

    tween.Completed:Connect(function()
        if StopTween then
            tween:Cancel()
        end
    end)
end



local RunService = game:GetService("RunService")
local player = game.Players.LocalPlayer

task.spawn(function()
    while true do
        task.wait() -- รอเพื่อป้องกันการใช้ CPU มากเกินไป
        if Auto_Farm_Level or Auto_World_Two or Auto_Third_Sea then
            local character = player.Character
            if character then
                local humanoidRootPart = character:FindFirstChild("HumanoidRootPart")
                if humanoidRootPart and not humanoidRootPart:FindFirstChild("BodyClip") then
                    local Noclip = Instance.new("BodyVelocity")
                    Noclip.Name = "BodyClip"
                    Noclip.Parent = humanoidRootPart
                    Noclip.MaxForce = Vector3.new(100000, 100000, 100000)
                    Noclip.Velocity = Vector3.new(0, 0, 0)
                end
            end
        else
            local character = player.Character
            if character then
                local humanoidRootPart = character:FindFirstChild("HumanoidRootPart")
                if humanoidRootPart then
                    local bodyClip = humanoidRootPart:FindFirstChild("BodyClip")
                    if bodyClip then
                        bodyClip:Destroy()
                    end
                end
            end
        end
    end
end)

function StopTween(target)
    if not target then
        StopTween = true
        
        -- เรียก Tween() เพื่อรีเซ็ตตำแหน่ง
        local player = game.Players.LocalPlayer
        local character = player.Character
        if character then
            local rootPart = character:FindFirstChild("HumanoidRootPart")
            if rootPart then
                Tween(rootPart.CFrame)
                
                -- ลบ BodyClip และ BodyVelocity1 อย่างปลอดภัย
                task.wait() -- ใช้ task.wait() แทน wait() เพื่อความเสถียร
                local bodyClip = rootPart:FindFirstChild("BodyClip")
                local bodyVelocity = rootPart:FindFirstChild("BodyVelocity1")
                if bodyClip then bodyClip:Destroy() end
                if bodyVelocity then bodyVelocity:Destroy() end
            end
        end
        
        StopTween = false
        Clip = false
    end
end

-- ลบการเชื่อมต่อเดิมก่อน เพื่อป้องกันการเชื่อมซ้ำ
if _G.TpConnection then
    _G.TpConnection:Disconnect()
end

-- สร้างการเชื่อมต่อใหม่
_G.TpConnection = RunService.Stepped:Connect(function()
    if Auto_Farm_Level or Auto_World_Two or Auto_Third_Sea then
        local character = player.Character
        if character then
            for _, part in ipairs(character:GetDescendants()) do
                if part:IsA("BasePart") and part.CanCollide then
                    part.CanCollide = false
                end
            end
        end
    end
end)

local player = game.Players.LocalPlayer
local replicatedStorage = game:GetService("ReplicatedStorage")

function AutoHaki()
    local character = player.Character
    if character and not character:FindFirstChild("HasBuso") then
        replicatedStorage.Remotes.CommF_:InvokeServer("Buso")
    end
end

function UnEquipWeapon(Weapon)
    local character = player.Character
    if not character then return end

    local tool = character:FindFirstChild(Weapon)
    if tool then
        NotAutoEquip = true
        task.wait(0.5)
        tool.Parent = player.Backpack
        task.wait(0.1)
        NotAutoEquip = false
    end
end

function EquipWeapon(ToolSe)
    if NotAutoEquip then return end

    local backpack = player:FindFirstChild("Backpack")
    local character = player.Character
    if not backpack or not character then return end

    local humanoid = character:FindFirstChildOfClass("Humanoid")
    local tool = backpack:FindFirstChild(ToolSe)
    
    if humanoid and tool then
        task.wait(0.1)
        humanoid:EquipTool(tool)
    end
end

task.spawn(function()
    while task.wait(1) do -- ลดความถี่ให้เป็น 1 วินาที เพื่อลดภาระเซิร์ฟเวอร์
        if Auto_Farm_Level then
            local success, err = pcall(function()
                game:GetService("ReplicatedStorage").Remotes.CommE:FireServer("Ken", true)
            end)
            
            if not success then
                warn("Error firing Ken: " .. err)
            end
        end
    end
end)

local isAttacking = false

function Click()
    if isAttacking then return end
    isAttacking = true  

    task.spawn(function()
        while isAttacking do
            local enemies = workspace:FindFirstChild("Enemies")
            if not enemies then break end -- ตรวจสอบว่ามีโฟลเดอร์ศัตรูอยู่หรือไม่
            
            local validEnemies = {}
            local target = nil

            -- ใช้ next() เพื่อลด overhead ของ ipairs()
            for _, enemy in next, enemies:GetChildren() do
                if enemy:IsA("Model") then
                    local humanoid = enemy:FindFirstChild("Humanoid")
                    local rootPart = enemy:FindFirstChild("HumanoidRootPart")

                    if humanoid and rootPart and humanoid.Health > 0 then
                        validEnemies[#validEnemies + 1] = {enemy, rootPart}
                        if not target then target = rootPart end
                    end
                end
            end

            -- ส่งคำสั่งโจมตีเมื่อพบศัตรูที่สามารถโจมตีได้
            if target then
                local replicatedStorage = game:GetService("ReplicatedStorage")
                local netModule = replicatedStorage:FindFirstChild("Modules") and replicatedStorage.Modules:FindFirstChild("Net")
                
                if netModule then
                    local registerAttack = netModule:FindFirstChild("RE/RegisterAttack")
                    local registerHit = netModule:FindFirstChild("RE/RegisterHit")

                    if registerAttack then
                        registerAttack:FireServer(1) -- โจมตี
                    end

                    if registerHit then
                        registerHit:FireServer(target, validEnemies) -- โจมตีศัตรูที่ตรวจพบ
                    end
                end
            end

            task.wait(0.1) -- ลดภาระเซิร์ฟเวอร์ให้ไม่ทำงานถี่เกินไป
        end
    end)
end

function StopClick()
    isAttacking = false
end

------------------------------------------------------ Main Ui Left -------------------------------------------------------------------
local RebornXerUiMain = Update:AddWindow("RebornXer Hub","10039618734",Enum.KeyCode.RightControl)

local MAIN = RebornXerUiMain:AddTab("Main","6026568198")
local SEIT = RebornXerUiMain:AddTab("Sea Event - Item","")
local PYDG = RebornXerUiMain:AddTab("Player - Dungeon","")
local SFS = RebornXerUiMain:AddTab("Shop - FruitShop","")
local MS = RebornXerUiMain:AddTab("Misc - Sever","")

local DEVFUNCTION = RebornXerUiMain:AddTab("","")

local S = RebornXerUiMain:AddTabH("Top","14134158045")

MAIN:AddSeperatorL("Info")
MAIN:AddLabelL("Wecome To RebornXer Hub Script")
MAIN:AddLabelL("Map : Blox Fruit")
Date = os.date("%d".." ".."%B".." ".."%Y")
MAIN:AddLabelL("Day : "..Date)
MAIN:AddLineL("")
    
MAIN:AddSeperatorL("Level Farm")
MAIN:AddToggleL("Auto Farm Level",_G.SST.Auto_Farm_Level,function(value)
    Auto_Farm_Level = value
    _G.SST.Auto_Farm_Level = Auto_Farm_Level
    SS()
    StopTween()
end)

function CheckQuest() 
    MyLevel = game:GetService("Players").LocalPlayer.Data.Level.Value
    if World1 then
        if MyLevel == 1 or MyLevel <= 9 then
            Mon = "Bandit"
            LevelQuest = 1
            NameQuest = "BanditQuest1"
            NameMon = "Bandit"
            PUK = CFrame.new(1216.779541015625, 56.393497467041016, 1606.126220703125)
            CFrameQuest = CFrame.new(1059.37195, 15.4495068, 1550.4231, 0.939700544, -0, -0.341998369, 0, 1, -0, 0.341998369, 0, 0.939700544)
        elseif MyLevel == 10 or MyLevel <= 14 then
            Mon = "Monkey"
            LevelQuest = 1
            NameQuest = "JungleQuest"
            NameMon = "Monkey"
            PUK = CFrame.new()
            CFrameQuest = CFrame.new(-1598.08911, 35.5501175, 153.377838, 0, 0, 1, 0, 1, -0, -1, 0, 0)
        elseif MyLevel == 15 or MyLevel <= 29 then
            Mon = "Gorilla"
            LevelQuest = 2
            NameQuest = "JungleQuest"
            NameMon = "Gorilla"
            PUK = CFrame.new(-1257.61181640625, 65.0517807006836, -499.2301025390625)
            CFrameQuest = CFrame.new(-1598.08911, 35.5501175, 153.377838, 0, 0, 1, 0, 1, -0, -1, 0, 0)
        elseif MyLevel == 30 or MyLevel <= 39 then
            Mon = "Pirate"
            LevelQuest = 1
            NameQuest = "BuggyQuest1"
            NameMon = "Pirate"
            PUK = CFrame.new(-1178.50244140625, 65.74028778076172, 3889.71630859375)
            CFrameQuest = CFrame.new(-1141.07483, 4.10001802, 3831.5498, 0.965929627, -0, -0.258804798, 0, 1, -0, 0.258804798, 0, 0.965929627)
        elseif MyLevel == 40 or MyLevel <= 59 then
            Mon = "Brute"
            LevelQuest = 2
            NameQuest = "BuggyQuest1"
            NameMon = "Brute"
            PUK = CFrame.new(-1144.44861, 90.5594559, 4307.25928, -0.998438537, 0, 0.0558618344, 0, 1, 0, -0.0558618344, 0, -0.998438537)
            CFrameQuest = CFrame.new(-1141.07483, 4.10001802, 3831.5498, 0.965929627, -0, -0.258804798, 0, 1, -0, 0.258804798, 0, 0.965929627)
        elseif MyLevel == 60 or MyLevel <= 74 then
            Mon = "Desert Bandit"
            LevelQuest = 1
            NameQuest = "DesertQuest"
            NameMon = "Desert Bandit"
            PUK = CFrame.new(919.5968017578125, 69.22762298583984, 4487.37109375)
            CFrameQuest = CFrame.new(894.488647, 5.14000702, 4392.43359, 0.819155693, -0, -0.573571265, 0, 1, -0, 0.573571265, 0, 0.819155693)
        elseif MyLevel == 75 or MyLevel <= 89 then
            Mon = "Desert Officer"
            LevelQuest = 2
            NameQuest = "DesertQuest"
            NameMon = "Desert Officer"
            PUK = CFrame.new(1580.03198, 4.61375761, 4366.86426)
            CFrameQuest = CFrame.new(894.488647, 5.14000702, 4392.43359, 0.819155693, -0, -0.573571265, 0, 1, -0, 0.573571265, 0, 0.819155693)
        elseif MyLevel == 90 or MyLevel <= 99 then
            Mon = "Snow Bandit"
            LevelQuest = 1
            NameQuest = "SnowQuest"
            NameMon = "Snow Bandit"
            PUK = CFrame.new(1365.15625, 124.89803314208984, -1364.9873046875)
            CFrameQuest = CFrame.new(1389.74451, 88.1519318, -1298.90796, -0.342042685, 0, 0.939684391, 0, 1, 0, -0.939684391, 0, -0.342042685)
        elseif MyLevel == 100 or MyLevel <= 119 then
            Mon = "Snowman"
            LevelQuest = 2
            NameQuest = "SnowQuest"
            NameMon = "Snowman"
            PUK = CFrame.new(1122.921875, 143.72373962402344, -1539.132080078125)
            CFrameQuest = CFrame.new(1389.74451, 88.1519318, -1298.90796, -0.342042685, 0, 0.939684391, 0, 1, 0, -0.939684391, 0, -0.342042685)
        elseif MyLevel == 120 or MyLevel <= 149 then
            Mon = "Chief Petty Officer"
            LevelQuest = 1
            NameQuest = "MarineQuest2"
            NameMon = "Chief Petty Officer"
            PUK = CFrame.new(-4882.8623, 22.6520386, 4255.53516)
            CFrameQuest = CFrame.new(-5039.58643, 27.3500385, 4324.68018, 0, 0, -1, 0, 1, 0, 1, 0, 0)
        elseif MyLevel == 150 or MyLevel <= 174 then
            Mon = "Sky Bandit"
            LevelQuest = 1
            NameQuest = "SkyQuest"
            NameMon = "Sky Bandit"
            PUK = CFrame.new(-4970.74219, 294.544342, -2890.11353)
            CFrameQuest = CFrame.new(-4839.53027, 716.368591, -2619.44165, 0.866007268, 0, 0.500031412, 0, 1, 0, -0.500031412, 0, 0.866007268)
            if _G.SST.Auto_Farm_Level and (CFrameQuest.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude > 10000 then
            game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("requestEntrance",Vector3.new(-4607.82275, 872.54248, -1667.55688))
            end
        elseif MyLevel == 175 or MyLevel <= 189 then
            Mon = "Dark Master"
            LevelQuest = 2
            NameQuest = "SkyQuest"
            NameMon = "Dark Master"
            PUK = CFrame.new(-5220.58594, 430.693298, -2278.17456)
            CFrameQuest = CFrame.new(-4839.53027, 716.368591, -2619.44165, 0.866007268, 0, 0.500031412, 0, 1, 0, -0.500031412, 0, 0.866007268)
            if _G.SST.Auto_Farm_Level and (CFrameQuest.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude > 10000 then
           game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("requestEntrance",Vector3.new(-4607.82275, 872.54248, -1667.55688))
           end
        elseif MyLevel == 190 or MyLevel <= 209 then
            Mon = "Prisoner"
            LevelQuest = 1
            NameQuest = "PrisonerQuest"
            NameMon = "Prisoner"
            PUK = CFrame.new(5308.93115, 1.65517521, 475.120514, -0.0894274712, -5.00292918e-09, -0.995993316, 1.60817859e-09, 1, -5.16744869e-09, 0.995993316, -2.06384709e-09, -0.0894274712)
            CFrameQuest = CFrame.new(5308.93115, 1.65517521, 475.120514, -0.0894274712, -5.00292918e-09, -0.995993316, 1.60817859e-09, 1, -5.16744869e-09, 0.995993316, -2.06384709e-09, -0.0894274712)
       elseif MyLevel == 210 or MyLevel <= 249 then 
            Mon = "Dangerous Prisoner"
            LevelQuest = 2
            NameQuest = "PrisonerQuest"
            NameMon = "Dangerous Prisoner"
            PUK = CFrame.new(5563.1171875, 67.71013641357422, 832.8712158203125)
            CFrameQuest = CFrame.new(5308.93115, 1.65517521, 475.120514, -0.0894274712, -5.00292918e-09, -0.995993316, 1.60817859e-09, 1, -5.16744869e-09, 0.995993316, -2.06384709e-09, -0.0894274712)
       elseif MyLevel == 250 or MyLevel <= 299 then
            Mon = "Toga Warrior"
            LevelQuest = 1
            NameQuest = "ColosseumQuest"
            NameMon = "Toga Warrior"
            PUK = CFrame.new(-1848.348876953125, 42.34652328491211, -2794.3759765625)
            CFrameQuest = CFrame.new(-1580.04663, 6.35000277, -2986.47534, -0.515037298, 0, -0.857167721, 0, 1, 0, 0.857167721, 0, -0.515037298)
        elseif MyLevel == 300 or MyLevel <= 324 then
            Mon = "Military Soldier"
            LevelQuest = 1
            NameQuest = "MagmaQuest"
            NameMon = "Military Soldier"
            PUK = CFrame.new(-5461.19140625, 44.07990264892578, 8457.443359375)
            CFrameQuest = CFrame.new(-5313.37012, 10.9500084, 8515.29395, -0.499959469, 0, 0.866048813, 0, 1, 0, -0.866048813, 0, -0.499959469)
        elseif MyLevel == 325 or MyLevel <= 374 then
            Mon = "Military Spy"
            LevelQuest = 2
            NameQuest = "MagmaQuest"
            NameMon = "Military Spy"
            PUK = CFrame.new(-5872.0625, 143.23089599609375, 8790.439453125)
            CFrameQuest = CFrame.new(-5313.37012, 10.9500084, 8515.29395, -0.499959469, 0, 0.866048813, 0, 1, 0, -0.866048813, 0, -0.499959469)
        elseif MyLevel == 375 or MyLevel <= 399 then
            Mon = "Fishman Warrior"
            LevelQuest = 1
            NameQuest = "FishmanQuest"
            NameMon = "Fishman Warrior"
            PUK = CFrame.new(60875.9921875, 35.35336685180664, 1434.669189453125)
            CFrameQuest = CFrame.new(61122.65234375, 18.497442245483, 1569.3997802734)
            if _G.SST.Auto_Farm_Level and (CFrameQuest.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude > 10000 then
                game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("requestEntrance",Vector3.new(61163.8515625, 11.6796875, 1819.7841796875))
            end
        elseif MyLevel == 400 or MyLevel <= 449 then
            Mon = "Fishman Commando"
            LevelQuest = 2
            NameQuest = "FishmanQuest"
            NameMon = "Fishman Commando"
            PUK = CFrame.new(61914.1484375, 82.76360321044922, 1461.85595703125)
            CFrameQuest = CFrame.new(61122.65234375, 18.497442245483, 1569.3997802734)
            if _G.SST.Auto_Farm_Level and (CFrameQuest.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude > 10000 then
                game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("requestEntrance",Vector3.new(61163.8515625, 11.6796875, 1819.7841796875))
            end
        elseif MyLevel == 450 or MyLevel <= 474 then
            Mon = "God's Guard"
            LevelQuest = 1
            NameQuest = "SkyExp1Quest"
            NameMon = "God's Guard"
            PUK = CFrame.new(-4721.88867, 843.874695, -1949.96643, 0.996191859, -0, -0.0871884301, 0, 1, -0, 0.0871884301, 0, 0.996191859)
            CFrameQuest = CFrame.new(-4721.88867, 843.874695, -1949.96643, 0.996191859, -0, -0.0871884301, 0, 1, -0, 0.0871884301, 0, 0.996191859)
            if _G.SST.Auto_Farm_Level and (CFrameQuest.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude > 10000 then
                game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("requestEntrance",Vector3.new(-4607.82275, 872.54248, -1667.55688))
            end
        elseif MyLevel == 475 or MyLevel <= 524 then
            Mon = "Shanda"
            LevelQuest = 2
            NameQuest = "SkyExp1Quest"
            NameMon = "Shanda"
            PUK = CFrame.new(-7658.7041015625, 5605.01025390625, -529.287353515625)
            CFrameQuest = CFrame.new(-7859.09814, 5544.19043, -381.476196, -0.422592998, 0, 0.906319618, 0, 1, 0, -0.906319618, 0, -0.422592998)
            if _G.SST.Auto_Farm_Level and (CFrameQuest.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude > 10000 then
                game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("requestEntrance",Vector3.new(-7894.6176757813, 5547.1416015625, -380.29119873047))
            end
        elseif MyLevel == 525 or MyLevel <= 549 then
            Mon = "Royal Squad"
            LevelQuest = 1
            NameQuest = "SkyExp2Quest"
            NameMon = "Royal Squad"
            PUK = CFrame.new(-7669.1796875, 5638.10986328125, -1448.95458984375)
            CFrameQuest = CFrame.new(-7906.81592, 5634.6626, -1411.99194, 0, 0, -1, 0, 1, 0, 1, 0, 0)
        elseif MyLevel == 550 or MyLevel <= 624 then
            Mon = "Royal Soldier"
            LevelQuest = 2
            NameQuest = "SkyExp2Quest"
            NameMon = "Royal Soldier"
            PUK = CFrame.new(-7839.28955078125, 5681.00830078125, -1717.6197509765625)
            CFrameQuest = CFrame.new(-7906.81592, 5634.6626, -1411.99194, 0, 0, -1, 0, 1, 0, 1, 0, 0)
        elseif MyLevel == 625 or MyLevel <= 649 then
            Mon = "Galley Pirate"
            LevelQuest = 1
            NameQuest = "FountainQuest"
            NameMon = "Galley Pirate"
            PUK = CFrame.new(5566.14453125, 71.22917175292969, 3964.4443359375)
            CFrameQuest = CFrame.new(5259.81982, 37.3500175, 4050.0293, 0.087131381, 0, 0.996196866, 0, 1, 0, -0.996196866, 0, 0.087131381)
        elseif MyLevel >= 650 then
            Mon = "Galley Captain"
            LevelQuest = 2
            NameQuest = "FountainQuest"
            NameMon = "Galley Captain"
            PUK = CFrame.new(5344.2529296875, 104.73433685302734, 4821.6533203125)
            CFrameQuest = CFrame.new(5259.81982, 37.3500175, 4050.0293, 0.087131381, 0, 0.996196866, 0, 1, 0, -0.996196866, 0, 0.087131381)
        end
    elseif World2 then
        if MyLevel == 700 or MyLevel <= 724 then
            Mon = "Raider"
            LevelQuest = 1
            NameQuest = "Area1Quest"
            NameMon = "Raider"
            PUK = CFrame.new(-737.026123, 39.1748352, 2392.57959)
            CFrameQuest = CFrame.new(-429.543518, 71.7699966, 1836.18188, -0.22495985, 0, -0.974368095, 0, 1, 0, 0.974368095, 0, -0.22495985)
        elseif MyLevel == 725 or MyLevel <= 774 then
            Mon = "Mercenary"
            LevelQuest = 2
            NameQuest = "Area1Quest"
            NameMon = "Mercenary"
            PUK = CFrame.new(-1016.576171875, 133.70040893554688, 1433.923095703125)
            CFrameQuest = CFrame.new(-429.543518, 71.7699966, 1836.18188, -0.22495985, 0, -0.974368095, 0, 1, 0, 0.974368095, 0, -0.22495985)
        elseif MyLevel == 775 or MyLevel <= 874 then
            Mon = "Swan Pirate"
            LevelQuest = 1
            NameQuest = "Area2Quest"
            NameMon = "Swan Pirate"
            PUK = CFrame.new(970.369446, 142.653198, 1217.3667)
            CFrameQuest = CFrame.new(638.43811, 71.769989, 918.282898, 0.139203906, 0, 0.99026376, 0, 1, 0, -0.99026376, 0, 0.139203906)
        elseif MyLevel == 875 or MyLevel <= 899 then
            Mon = "Marine Lieutenant"
            LevelQuest = 1
            NameQuest = "MarineQuest3"
            NameMon = "Marine Lieutenant"
            PUK = CFrame.new(-2929.03369140625, 163.5143585205078, -3027.66357421875)
            CFrameQuest = CFrame.new(-2440.79639, 71.7140732, -3216.06812, 0.866007268, 0, 0.500031412, 0, 1, 0, -0.500031412, 0, 0.866007268)
        elseif MyLevel == 900 or MyLevel <= 949 then
            Mon = "Marine Captain"
            LevelQuest = 2
            NameQuest = "MarineQuest3"
            NameMon = "Marine Captain"
            PUK = CFrame.new(-1932.095703125, 131.94061279296875, -3291.61865234375)
            CFrameQuest = CFrame.new(-2440.79639, 71.7140732, -3216.06812, 0.866007268, 0, 0.500031412, 0, 1, 0, -0.500031412, 0, 0.866007268)
        elseif MyLevel == 950 or MyLevel <= 999 then
            Mon = "Zombie"
            LevelQuest = 1
            NameQuest = "ZombieQuest"
            NameMon = "Zombie"
            PUK = CFrame.new(-5695.2451171875, 124.95378875732422, -775.65478515625)
            CFrameQuest = CFrame.new(-5497.06152, 47.5923004, -795.237061, -0.29242146, 0, -0.95628953, 0, 1, 0, 0.95628953, 0, -0.29242146)
        elseif MyLevel == 1000 or MyLevel <= 1049 then
            Mon = "Snow Trooper"
            LevelQuest = 1
            NameQuest = "SnowMountainQuest"
            NameMon = "Snow Trooper"
            PUK = CFrame.new(535.893433, 401.457062, -5329.6958, -0.999524176, 0, 0.0308452044, 0, 1, -0, -0.0308452044, 0, -0.999524176)
            CFrameQuest = CFrame.new(609.858826, 400.119904, -5372.25928, -0.374604106, 0, 0.92718488, 0, 1, 0, -0.92718488, 0, -0.374604106)
        elseif MyLevel == 1050 or MyLevel <= 1099 then
            Mon = "Winter Warrior"
            LevelQuest = 2
            NameQuest = "SnowMountainQuest"
            NameMon = "Winter Warrior"
            PUK = CFrame.new(1223.7417, 454.575226, -5170.02148, 0.473996818, 2.56845354e-08, 0.880526543, -5.62456428e-08, 1, 1.10811016e-09, -0.880526543, -5.00510211e-08, 0.473996818)
            CFrameQuest = CFrame.new(609.858826, 400.119904, -5372.25928, -0.374604106, 0, 0.92718488, 0, 1, 0, -0.92718488, 0, -0.374604106)
        elseif MyLevel == 1100 or MyLevel <= 1124 then
            Mon = "Lab Subordinate"
            LevelQuest = 1
            NameQuest = "IceSideQuest"
            NameMon = "Lab Subordinate"
            PUK = CFrame.new(-6060.10693, 15.9868021, -4904.7876, -0.411000341, -5.06538868e-07, 0.91163528, 1.26306062e-07, 1, 6.12581289e-07, -0.91163528, 3.66916197e-07, -0.411000341)
            CFrameQuest = CFrame.new(-6064.06885, 15.2422857, -4902.97852, 0.453972578, -0, -0.891015649, 0, 1, -0, 0.891015649, 0, 0.453972578)
        elseif MyLevel == 1125 or MyLevel <= 1174 then
            Mon = "Horned Warrior"
            LevelQuest = 2
            NameQuest = "IceSideQuest"
            NameMon = "Horned Warrior"
            PUK = CFrame.new(-6400.85889, 24.7645149, -5818.63574)
            CFrameQuest = CFrame.new(-6064.06885, 15.2422857, -4902.97852, 0.453972578, -0, -0.891015649, 0, 1, -0, 0.891015649, 0, 0.453972578)
        elseif MyLevel == 1175 or MyLevel <= 1199 then
            Mon = "Magma Ninja"
            LevelQuest = 1
            NameQuest = "FireSideQuest"
            NameMon = "Magma Ninja"
            PUK = CFrame.new(-5496.65576, 58.6890411, -5929.76855)
            CFrameQuest = CFrame.new(-5428.03174, 15.0622921, -5299.43457, -0.882952213, 0, 0.469463557, 0, 1, 0, -0.469463557, 0, -0.882952213)
        elseif MyLevel == 1200 or MyLevel <= 1249 then
            Mon = "Lava Pirate"
            LevelQuest = 2
            NameQuest = "FireSideQuest"
            NameMon = "Lava Pirate"
            PUK = CFrame.new(-5169.71729, 34.1234779, -4669.73633)
            CFrameQuest = CFrame.new(-5428.03174, 15.0622921, -5299.43457, -0.882952213, 0, 0.469463557, 0, 1, 0, -0.469463557, 0, -0.882952213)
        elseif MyLevel == 1250 or MyLevel <= 1274 then
            Mon = "Ship Deckhand"
            LevelQuest = 1
            NameQuest = "ShipQuest1"
            NameMon = "Ship Deckhand"
            PUK = CFrame.new(1181.84875, 130.485107, 33005.4961, -0.946877539, -7.47373434e-08, -0.321594298, -7.391602e-08, 1, -1.47637005e-08, 0.321594298, 9.79155601e-09, -0.946877539)
            CFrameQuest = CFrame.new(1037.80127, 125.092171, 32911.6016)         
            if _G.SST.Auto_Farm_Level and (CFrameQuest.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude > 10000 then
                game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("requestEntrance",Vector3.new(923.21252441406, 126.9760055542, 32852.83203125))
            end
        elseif MyLevel == 1275 or MyLevel <= 1299 then
            Mon = "Ship Engineer"
            LevelQuest = 2
            NameQuest = "ShipQuest1"
            NameMon = "Ship Engineer"
            PUK = CFrame.new(919.250427, 43.544014, 32781.9922, 0.999619186, 4.03968698e-08, -0.0275939237, -3.75240887e-08, 1, 1.04626984e-07, 0.0275939237, -1.03551706e-07, 0.999619186)
            CFrameQuest = CFrame.new(1037.80127, 125.092171, 32911.6016)   
            if _G.SST.Auto_Farm_Level and (CFrameQuest.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude > 10000 then
                game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("requestEntrance",Vector3.new(923.21252441406, 126.9760055542, 32852.83203125))
            end             
        elseif MyLevel == 1300 or MyLevel <= 1324 then
            Mon = "Ship Steward"
            LevelQuest = 1
            NameQuest = "ShipQuest2"
            NameMon = "Ship Steward"
            PUK = CFrame.new(917.478882, 129.556, 33441.2227, -0.999965012, -1.84493896e-08, -0.00836863648, -1.84426696e-08, 1, -8.80260864e-10, 0.00836863648, -7.2589007e-10, -0.999965012)
            CFrameQuest = CFrame.new(968.80957, 125.092171, 33244.125)         
            if _G.SST.Auto_Farm_Level and (CFrameQuest.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude > 10000 then
                game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("requestEntrance",Vector3.new(923.21252441406, 126.9760055542, 32852.83203125))
            end
        elseif MyLevel == 1325 or MyLevel <= 1349 then
            Mon = "Ship Officer"
            LevelQuest = 2
            NameQuest = "ShipQuest2"
            NameMon = "Ship Officer"
            PUK = CFrame.new(1201.18286, 181.149124, 33308.0508, 0.0748318806, -7.14178512e-08, -0.997196138, 2.97970733e-08, 1, -6.93826223e-08, 0.997196138, -2.45214959e-08, 0.0748318806)
            CFrameQuest = CFrame.new(968.80957, 125.092171, 33244.125)
            if _G.SST.Auto_Farm_Level and (CFrameQuest.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude > 10000 then
                game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("requestEntrance",Vector3.new(923.21252441406, 126.9760055542, 32852.83203125))
            end
        elseif MyLevel == 1350 or MyLevel <= 1374 then
            Mon = "Arctic Warrior"
            LevelQuest = 1
            NameQuest = "FrostQuest"
            NameMon = "Arctic Warrior"
            PUK = CFrame.new(5667.6582, 26.7997818, -6486.08984, -0.933587909, 0, -0.358349502, 0, 1, 0, 0.358349502, 0, -0.933587909)
            CFrameQuest = CFrame.new(5667.6582, 26.7997818, -6486.08984, -0.933587909, 0, -0.358349502, 0, 1, 0, 0.358349502, 0, -0.933587909)
            if _G.SST.Auto_Farm_Level and (CFrameQuest.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude > 10000 then
                game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("requestEntrance",Vector3.new(-6508.5581054688, 5000.034996032715, -132.83953857422))
            end
        elseif MyLevel == 1375 or MyLevel <= 1424 then
            Mon = "Snow Lurker"
            LevelQuest = 2
            NameQuest = "FrostQuest"
            NameMon = "Snow Lurker"
            PUK = CFrame.new(5518.00684, 60.5559731, -6828.80518)
            CFrameQuest = CFrame.new(5667.6582, 26.7997818, -6486.08984, -0.933587909, 0, -0.358349502, 0, 1, 0, 0.358349502, 0, -0.933587909)
        elseif MyLevel == 1425 or MyLevel <= 1449 then
            Mon = "Sea Soldier"
            LevelQuest = 1
            NameQuest = "ForgottenQuest"
            NameMon = "Sea Soldier"
            PUK = CFrame.new(-3366.32958984375, 47.21970748901367, -9704.3505859375)
            CFrameQuest = CFrame.new(-3054.44458, 235.544281, -10142.8193, 0.990270376, -0, -0.13915664, 0, 1, -0, 0.13915664, 0, 0.990270376)
        elseif MyLevel >= 1450 then
            Mon = "Water Fighter"
            LevelQuest = 2
            NameQuest = "ForgottenQuest"
            NameMon = "Water Fighter"
            PUK = CFrame.new(-3436.7727050781, 290.52191162109, -10503.438476563)
            CFrameQuest = CFrame.new(-3054.44458, 235.544281, -10142.8193, 0.990270376, -0, -0.13915664, 0, 1, -0, 0.13915664, 0, 0.990270376)
        end
    elseif World3 then
        if MyLevel == 1500 or MyLevel <= 1524 then
            Mon = "Pirate Millionaire"
            LevelQuest = 1
            NameQuest = "PiratePortQuest"
            NameMon = "Pirate Millionaire"
            PUK = CFrame.new(-290.674988, 34.7821121, 5417.57666, -0.959131062, 7.87279077e-08, 0.282962203, 6.99472977e-08, 1, -4.11336849e-08, -0.282962203, -1.96601544e-08, -0.959131062)
            CFrameQuest = CFrame.new(-290.074677, 42.9034653, 5581.58984, 0.965929627, -0, -0.258804798, 0, 1, -0, 0.258804798, 0, 0.965929627)
        elseif MyLevel == 1525 or MyLevel <= 1574 then
            Mon = "Pistol Billionaire"
            LevelQuest = 2
            NameQuest = "PiratePortQuest"
            NameMon = "Pistol Billionaire"
            PUK = CFrame.new(-387.624237, 74.2720413, 5851.84473, -0.990750372, -6.79122536e-08, 0.135697171, -7.2516066e-08, 1, -2.89841076e-08, -0.135697171, -3.85562409e-08, -0.990750372)
            CFrameQuest = CFrame.new(-290.074677, 42.9034653, 5581.58984, 0.965929627, -0, -0.258804798, 0, 1, -0, 0.258804798, 0, 0.965929627)
        elseif MyLevel == 1575 or MyLevel <= 1599 then
            Mon = "Dragon Crew Warrior"
            LevelQuest = 1
            NameQuest = "AmazonQuest"
            NameMon = "Dragon Crew Warrior"
            PUK = CFrame.new(6241.9951171875, 51.522083282471, -1243.9771728516)
            CFrameQuest = CFrame.new(5832.83594, 51.6806107, -1101.51563, 0.898790359, -0, -0.438378751, 0, 1, -0, 0.438378751, 0, 0.898790359)
        elseif MyLevel == 1600 or MyLevel <= 1624 then 
            Mon = "Dragon Crew Archer"
            NameQuest = "AmazonQuest"
            LevelQuest = 2
            NameMon = "Dragon Crew Archer"
            PUK = CFrame.new(6788.97461, 462.341248, 164.233673, -0.711975694, 1.98202414e-08, 0.702204108, -1.45830699e-08, 1, -4.30117559e-08, -0.702204108, -4.08636183e-08, -0.711975694)
            CFrameQuest = CFrame.new(5833.1147460938, 51.60498046875, -1103.0693359375)
        elseif MyLevel == 1625 or MyLevel <= 1649 then
            Mon = "Female Islander"
            NameQuest = "AmazonQuest2"
            LevelQuest = 1
            NameMon = "Female Islander"
            PUK = CFrame.new(5763.98682, 848.118103, 1082.43127, 0.986172736, 2.65753979e-08, 0.165720671, -2.36233451e-08, 1, -1.97844852e-08, -0.165720671, 1.55960436e-08, 0.986172736)
            CFrameQuest = CFrame.new(5446.8793945313, 601.62945556641, 749.45672607422)
        elseif MyLevel == 1650 or MyLevel <= 1699 then 
            Mon = "Giant Islander"
            NameQuest = "AmazonQuest2"
            LevelQuest = 2
            NameMon = "Giant Islander"
            PUK = CFrame.new(4784.24561, 708.376465, 466.297485, 0.99801594, 3.11927195e-09, 0.0629619658, -5.34848299e-09, 1, 3.52371394e-08, -0.0629619658, -3.55039766e-08, 0.99801594)
            CFrameQuest = CFrame.new(5446.8793945313, 601.62945556641, 749.45672607422)
        elseif MyLevel == 1700 or MyLevel <= 1724 then
            Mon = "Marine Commodore"
            LevelQuest = 1
            NameQuest = "MarineTreeIsland"
            NameMon = "Marine Commodore"
            PUK = CFrame.new(2490.0844726563, 190.4232635498, -7160.0502929688)
            CFrameQuest = CFrame.new(2180.54126, 27.8156815, -6741.5498, -0.965929747, 0, 0.258804798, 0, 1, 0, -0.258804798, 0, -0.965929747)
            if _G.SST.Auto_Farm_Level and (CFrameQuest.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude > 10000 then
            game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("requestEntrance",Vector3.new(-12471.169921875, 374.94024658203, -7551.677734375))
           end
        elseif MyLevel == 1725 or MyLevel <= 1774 then
            Mon = "Marine Rear Admiral"
            NameMon = "Marine Rear Admiral"
            NameQuest = "MarineTreeIsland"
            LevelQuest = 2
            PUK = CFrame.new(3951.3903808594, 229.11549377441, -6912.81640625)
            CFrameQuest = CFrame.new(2179.98828125, 28.731239318848, -6740.0551757813)
             if _G.SST.Auto_Farm_Level and (CFrameQuest.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude > 10000 then
            game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("requestEntrance",Vector3.new(-12471.169921875, 374.94024658203, -7551.677734375))
           end
        elseif MyLevel == 1775 or MyLevel <= 1799 then
            Mon = "Fishman Raider"
            LevelQuest = 1
            NameQuest = "DeepForestIsland3"
            NameMon = "Fishman Raider"
            PUK = CFrame.new(-10322.400390625, 390.94473266602, -8580.0908203125)
            CFrameQuest = CFrame.new(-10581.6563, 330.872955, -8761.18652, -0.882952213, 0, 0.469463557, 0, 1, 0, -0.469463557, 0, -0.882952213)   
             if _G.SST.Auto_Farm_Level and (CFrameQuest.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude > 10000 then
            game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("requestEntrance",Vector3.new(-12471.169921875, 374.94024658203, -7551.677734375))
           end
        elseif MyLevel == 1800 or MyLevel <= 1824 then
            Mon = "Fishman Captain"
            LevelQuest = 2
            NameQuest = "DeepForestIsland3"
            NameMon = "Fishman Captain"
            PUK = CFrame.new(-11194.541992188, 442.02795410156, -8608.806640625)
            CFrameQuest = CFrame.new(-10581.6563, 330.872955, -8761.18652, -0.882952213, 0, 0.469463557, 0, 1, 0, -0.469463557, 0, -0.882952213)   
             if _G.SST.Auto_Farm_Level and (CFrameQuest.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude > 10000 then
            game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("requestEntrance",Vector3.new(-12471.169921875, 374.94024658203, -7551.677734375))
           end
        elseif MyLevel == 1825 or MyLevel <= 1849 then
            Mon = "Forest Pirate"
            LevelQuest = 1
            NameQuest = "DeepForestIsland"
            NameMon = "Forest Pirate"
            PUK = CFrame.new(-13225.809570313, 428.19387817383, -7753.1245117188)
            CFrameQuest = CFrame.new(-13234.04, 331.488495, -7625.40137, 0.707134247, -0, -0.707079291, 0, 1, -0, 0.707079291, 0, 0.707134247)
             if _G.SST.Auto_Farm_Level and (CFrameQuest.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude > 10000 then
            game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("requestEntrance",Vector3.new(-12471.169921875, 374.94024658203, -7551.677734375))
           end
        elseif MyLevel == 1850 or MyLevel <= 1899 then
            Mon = "Mythological Pirate"
            LevelQuest = 2
            NameQuest = "DeepForestIsland"
            NameMon = "Mythological Pirate"
            PUK = CFrame.new(-13869.172851563, 564.95251464844, -7084.4135742188)
            CFrameQuest = CFrame.new(-13234.04, 331.488495, -7625.40137, 0.707134247, -0, -0.707079291, 0, 1, -0, 0.707079291, 0, 0.707134247)   
             if _G.SST.Auto_Farm_Level and (CFrameQuest.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude > 10000 then
            game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("requestEntrance",Vector3.new(-12471.169921875, 374.94024658203, -7551.677734375))
           end
        elseif MyLevel == 1900 or MyLevel <= 1924 then
            Mon = "Jungle Pirate"
            LevelQuest = 1
            NameQuest = "DeepForestIsland2"
            NameMon = "Jungle Pirate"
            PUK = CFrame.new(-11982.221679688, 376.32522583008, -10451.415039063)
            CFrameQuest = CFrame.new(-12680.3818, 389.971039, -9902.01953, -0.0871315002, 0, 0.996196866, 0, 1, 0, -0.996196866, 0, -0.0871315002)
             if _G.SST.Auto_Farm_Level and (CFrameQuest.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude > 10000 then
            game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("requestEntrance",Vector3.new(-12471.169921875, 374.94024658203, -7551.677734375))
           end
        elseif MyLevel == 1925 or MyLevel <= 1974 then
            Mon = "Musketeer Pirate"
            LevelQuest = 2
            NameQuest = "DeepForestIsland2"
            NameMon = "Musketeer Pirate"
            PUK = CFrame.new(-13282.3046875, 496.23684692383, -9565.150390625)
            CFrameQuest = CFrame.new(-12680.3818, 389.971039, -9902.01953, -0.0871315002, 0, 0.996196866, 0, 1, 0, -0.996196866, 0, -0.0871315002)
             if _G.SST.Auto_Farm_Level and (CFrameQuest.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude > 10000 then
            game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("requestEntrance",Vector3.new(-12471.169921875, 374.94024658203, -7551.677734375))
           end
        elseif MyLevel == 1975 or MyLevel <= 1999 then
            Mon = "Reborn Skeleton"
            LevelQuest = 1
            NameQuest = "HauntedQuest1"
            NameMon = "Reborn Skeleton"
            PUK = CFrame.new(-8817.880859375, 191.16761779785, 6298.6557617188)
            CFrameQuest = CFrame.new(-9479.2168, 141.215088, 5566.09277, 0, 0, 1, 0, 1, -0, -1, 0, 0)
        elseif MyLevel == 2000 or MyLevel <= 2024 then
            Mon = "Living Zombie"
            LevelQuest = 2
            NameQuest = "HauntedQuest1"
            NameMon = "Living Zombie"
            PUK = CFrame.new(-10125.234375, 183.94705200195, 6242.013671875)
            CFrameQuest = CFrame.new(-9479.2168, 141.215088, 5566.09277, 0, 0, 1, 0, 1, -0, -1, 0, 0)
        elseif MyLevel == 2025 or MyLevel <= 2049 then
            Mon = "Demonic Soul"
            LevelQuest = 1
            NameQuest = "HauntedQuest2"
            NameMon = "Demonic Soul"
            PUK = CFrame.new(-9712.03125, 204.69589233398, 6193.322265625)
            CFrameQuest = CFrame.new(-9516.99316, 172.017181, 6078.46533, 0, 0, -1, 0, 1, 0, 1, 0, 0) 
        elseif MyLevel == 2050 or MyLevel <= 2074 then
            Mon = "Posessed Mummy"
            LevelQuest = 2
            NameQuest = "HauntedQuest2"
            NameMon = "Posessed Mummy"
            PUK = CFrame.new(-9545.7763671875, 69.619895935059, 6339.5615234375)
            CFrameQuest = CFrame.new(-9516.99316, 172.017181, 6078.46533, 0, 0, -1, 0, 1, 0, 1, 0, 0)
        elseif MyLevel == 2075 or MyLevel <= 2099 then
            Mon = "Peanut Scout"
            LevelQuest = 1
            NameQuest = "NutsIslandQuest"
            NameMon = "Peanut Scout"
            PUK = CFrame.new(-2265.89014, 89.7506104, -10261.2197, -0.809553444, -9.26727282e-08, 0.587046146, -5.44419549e-08, 1, 8.27857534e-08, -0.587046146, 3.50595535e-08, -0.809553444)
            CFrameQuest = CFrame.new(-2104.3908691406, 38.104167938232, -10194.21875, 0, 0, -1, 0, 1, 0, 1, 0, 0)
        elseif MyLevel == 2100 or MyLevel <= 2124 then
            Mon = "Peanut President"
            LevelQuest = 2
            NameQuest = "NutsIslandQuest"
            NameMon = "Peanut President"
            PUK = CFrame.new(-2062.11792, 86.0444489, -10481.1445, 0.834163189, -9.79785408e-09, -0.551517665, -2.60617616e-09, 1, -2.17070646e-08, 0.551517665, 1.95445864e-08, 0.834163189)
            CFrameQuest = CFrame.new(-2104.3908691406, 38.104167938232, -10194.21875, 0, 0, -1, 0, 1, 0, 1, 0, 0)
        elseif MyLevel == 2125 or MyLevel <= 2149 then
            Mon = "Ice Cream Chef"
            LevelQuest = 1
            NameQuest = "IceCreamIslandQuest"
            NameMon = "Ice Cream Chef"
            PUK = CFrame.new(-875.441345, 107.871437, -11253.3691, 0.630182087, 5.98710486e-08, 0.776447415, -6.03229751e-08, 1, -2.81494827e-08, -0.776447415, -2.90983202e-08, 0.63018208)
            CFrameQuest = CFrame.new(-820.64825439453, 65.819526672363, -10965.795898438, 0, 0, -1, 0, 1, 0, 1, 0, 0)
        elseif MyLevel == 2150 or MyLevel <= 2199 then
            Mon = "Ice Cream Commander"
            LevelQuest = 2
            NameQuest = "IceCreamIslandQuest"
            NameMon = "Ice Cream Commander"
            PUK = CFrame.new(-643.3078, 140.913528, -11334.7109, -0.996822715, -9.07818087e-09, 0.0796525627, -1.43212509e-08, 1, -6.52529906e-08, -0.0796525627, -6.61863808e-08, -0.996822715)
            CFrameQuest = CFrame.new(-820.64825439453, 65.819526672363, -10965.795898438, 0, 0, -1, 0, 1, 0, 1, 0, 0)
        elseif MyLevel == 2200 or MyLevel <= 2224 then
            Mon = "Cookie Crafter"
            LevelQuest = 1
            NameQuest = "CakeQuest1"
            NameMon = "Cookie Crafter"
            PUK = CFrame.new(-2437.66064, 133.07428, -12122.8721, 0.215197399, 2.05706883e-08, -0.976570547, -6.6551344e-08, 1, 6.39893472e-09, 0.976570547, 6.36150475e-08, 0.215197399)
            CFrameQuest = CFrame.new(-2021.32007, 37.7982254, -12028.7295, 0.957576931, -8.80302053e-08, 0.288177818, 6.9301187e-08, 1, 7.51931211e-08, -0.288177818, -5.2032135e-08, 0.957576931)
        elseif MyLevel == 2225 or MyLevel <= 2249 then
            Mon = "Cake Guard"
            LevelQuest = 2
            NameQuest = "CakeQuest1"
            NameMon = "Cake Guard"
            PUK = CFrame.new(-1595.00916, 44.7149811, -12252.0547, -0.998557925, -6.0718726e-08, -0.0536852553, -5.64001539e-08, 1, -8.19574169e-08, 0.0536852553, -7.88113681e-08, -0.998557925)
            CFrameQuest = CFrame.new(-2021.32007, 37.7982254, -12028.7295, 0.957576931, -8.80302053e-08, 0.288177818, 6.9301187e-08, 1, 7.51931211e-08, -0.288177818, -5.2032135e-08, 0.957576931)
        elseif MyLevel == 2250 or MyLevel <= 2274 then
            Mon = "Baking Staff"
            LevelQuest = 1
            NameQuest = "CakeQuest2"
            NameMon = "Baking Staff"
            PUK = CFrame.new(-1817.20581, 93.8077316, -12885.6309, -0.696141601, 7.12665269e-08, 0.717904449, 4.05417566e-08, 1, -5.99574506e-08, -0.717904449, -1.26337669e-08, -0.696141601)
            CFrameQuest = CFrame.new(-1927.91602, 37.7981339, -12842.5391, -0.96804446, 4.22142143e-08, 0.250778586, 4.74911062e-08, 1, 1.49904711e-08, -0.250778586, 2.64211941e-08, -0.96804446)
        elseif MyLevel == 2275 or MyLevel <=2299 then
            Mon = "Head Baker"
            LevelQuest = 2
            NameQuest = "CakeQuest2"
            NameMon = "Head Baker"
            PUK = CFrame.new(-2263.37744, 156.999985, -12776, 0.945995748, 2.16281637e-09, 0.324179053, -1.23387056e-09, 1, -3.0710805e-09, -0.324179053, 2.50523402e-09, 0.945995748)
            CFrameQuest = CFrame.new(-1927.91602, 37.7981339, -12842.5391, -0.96804446, 4.22142143e-08, 0.250778586, 4.74911062e-08, 1, 1.49904711e-08, -0.250778586, 2.64211941e-08, -0.96804446)
     elseif MyLevel == 2300 or MyLevel <= 2324 then
           Mon = "Cocoa Warrior"
           LevelQuest = 1
           NameQuest = "ChocQuest1"
           NameMon = "Cocoa Warrior"
           PUK = CFrame.new(-103.987442, 141.551514, -12260.2188, 0.589523733, -3.54913752e-08, -0.80775106, 4.28455316e-08, 1, -1.26684059e-08, 0.80775106, -2.71401959e-08, 0.589523733)
           CFrameQuest = CFrame.new(231.742981, 25.3354111, -12199.0537, 0.998278677, -5.16006757e-08, 0.0586484075, 4.79685092e-08, 1, 6.33390442e-08, -0.0586484075, -6.04167383e-08, 0.998278677)
         elseif MyLevel == 2325 or MyLevel <= 2349 then
           Mon = "Chocolate Bar Battler"
           LevelQuest = 2
           NameQuest = "ChocQuest1"
           NameMon = "Chocolate Bar Battler"
           PUK = CFrame.new(617.304688, 80.6076355, -12580.6494, -0.485228658, 3.42073503e-09, -0.874387324, -4.0368306e-08, 1, 2.63139608e-08, 0.874387324, 4.80658215e-08, -0.485228658)
          CFrameQuest = CFrame.new(231.742981, 25.3354111, -12199.0537, 0.998278677, -5.16006757e-08, 0.0586484075, 4.79685092e-08, 1, 6.33390442e-08, -0.0586484075, -6.04167383e-08, 0.998278677)
          elseif MyLevel == 2350 or MyLevel <= 2374 then
           Mon = "Sweet Thief"
           LevelQuest = 1
           NameQuest = "ChocQuest2"
           NameMon = "Sweet Thief"
           PUK = CFrame.new(72.062767, 77.630722, -12640.4287, -0.62450999, -9.80953416e-08, 0.781016827, 1.42118917e-09, 1, 1.26735927e-07, -0.781016827, 8.02578199e-08, -0.62450999)
           CFrameQuest = CFrame.new(149.867218, 24.8196201, -12775.5283, -0.0371122323, -7.14229245e-08, -0.99931109, -6.93553162e-08, 1, -6.88964548e-08, 0.99931109, 6.6750637e-08, -0.0371122323)
         elseif MyLevel == 2375 or MyLevel <= 2399 then
           Mon = "Candy Rebel"
           LevelQuest = 2
           NameQuest = "ChocQuest2"
           NameMon = "Candy Rebel"  
           PUK = CFrame.new(420.127747, 109.63044, -12989.6035, 0.0957952142, 3.10210027e-08, 0.995401084, -9.46955225e-09, 1, -3.02529948e-08, -0.995401084, -6.52791066e-09, 0.0957952142)
          CFrameQuest = CFrame.new(149.867218, 24.8196201, -12775.5283, -0.0371122323, -7.14229245e-08, -0.99931109, -6.93553162e-08, 1, -6.88964548e-08, 0.99931109, 6.6750637e-08, -0.0371122323)
      elseif MyLevel == 2400 or MyLevel <= 2424 then
           Mon = "Candy Pirate"
           LevelQuest = 1
           NameQuest = "CandyQuest1"
           NameMon = "Candy Pirate"  
           PUK = CFrame.new(4-1218.0184326171875, 174.3348846435547, -14536.8603515625)
          CFrameQuest = CFrame.new(-1147.722900390625, 16.142282485961914, -14445.0546875)
       elseif MyLevel == 2425 or MyLevel <= 2449  then
           Mon = "Snow Demon"
           LevelQuest = 2
           NameQuest = "CandyQuest1"
           NameMon = "Snow Demon"  
           PUK = CFrame.new(-989.9094848632812, 142.46929931640625, -14594.7490234375)
          CFrameQuest = CFrame.new(-1147.722900390625, 16.142282485961914, -14445.0546875)
       elseif MyLevel == 2450 or MyLevel <= 2474 then
           Mon = "Isle Outlaw"
           LevelQuest = 1
           NameQuest = "TikiQuest1"
           NameMon = "Isle Outlaw"  
           PUK = CFrame.new(-16548.8164, 55.6059914, -172.8125, 0.213092566, -0, -0.977032006, 0, 1, -0, 0.977032006, 0, 0.213092566)
          CFrameQuest = CFrame.new(-16548.8164, 55.6059914, -172.8125, 0.213092566, -0, -0.977032006, 0, 1, -0, 0.977032006, 0, 0.213092566)
elseif MyLevel == 2475 or MyLevel <= 2524 then
           Mon = "Island Boy"
           LevelQuest = 2
           NameQuest = "TikiQuest1"
           NameMon = "Island Boy"  
           PUK = CFrame.new(-16548.8164, 55.6059914, -172.8125, 0.213092566, -0, -0.977032006, 0, 1, -0, 0.977032006, 0, 0.213092566)
          CFrameQuest = CFrame.new(-16548.8164, 55.6059914, -172.8125, 0.213092566, -0, -0.977032006, 0, 1, -0, 0.977032006, 0, 0.213092566)
elseif MyLevel == 2525 or MyLevel <= 2549 then
           Mon = "Isle Champion"
           LevelQuest = 2
           NameQuest = "TikiQuest2"
           NameMon = "Isle Champion"  
           PUK = CFrame.new(-16541.0215, 54.770813, 1051.46118, 0.0410757065, -0, -0.999156058, 0, 1, -0, 0.999156058, 0, 0.0410757065)
          CFrameQuest = CFrame.new(-16541.0215, 54.770813, 1051.46118, 0.0410757065, -0, -0.999156058, 0, 1, -0, 0.999156058, 0, 0.0410757065)
        elseif MyLevel == 2550 or MyLevel <= 2574 then
            Mon = "Serpent Hunter"
            LevelQuest = 1
            NameQuest = "TikiQuest3"
            NameMon = "Serpent Hunter"  
            PUK = CFrame.new(-16665.1914, 104.596405, 1579.69434, 0.951068401, -0, -0.308980465, 0, 1, -0, 0.308980465, 0, 0.951068401)
           CFrameQuest = CFrame.new(-16665.1914, 104.596405, 1579.69434, 0.951068401, -0, -0.308980465, 0, 1, -0, 0.308980465, 0, 0.951068401)
        elseif MyLevel >= 2575 then
            Mon = "Skull Slayer"
            LevelQuest = 2
            NameQuest = "TikiQuest3"
            NameMon = "Skull Slayer"  
            PUK = CFrame.new(-16665.1914, 104.596405, 1579.69434, 0.951068401, -0, -0.308980465, 0, 1, -0, 0.308980465, 0, 0.951068401)
           CFrameQuest = CFrame.new(-16665.1914, 104.596405, 1579.69434, 0.951068401, -0, -0.308980465, 0, 1, -0, 0.308980465, 0, 0.951068401)

        end
    end
end

spawn(function()
    while task.wait(0) do
        if _G.SST.Auto_Farm_Level then
            pcall(function()
                CheckQuest()
                local player = game:GetService("Players").LocalPlayer
                local questGui = player.PlayerGui.Main.Quest
                local questTitle = questGui.Container.QuestTitle.Title.Text
                local rootPart = player.Character and player.Character:FindFirstChild("HumanoidRootPart")

                if not rootPart or not _G.SST.Auto_Farm_Level then return end -- เช็คก่อน

                if not questGui.Visible then
                    StartMagnet = false
                    
                    repeat
                        task.wait()
                        if not _G.SST.Auto_Farm_Level then return end -- หยุดทันทีเมื่อปิด
                        Tween(CFrameQuest)
                    until (CFrameQuest.Position - rootPart.Position).Magnitude <= 3 or not _G.SST.Auto_Farm_Level
                    
                    if not _G.SST.Auto_Farm_Level then return end -- ป้องกันบั๊กหลังวาร์ป

                    if (CFrameQuest.Position - rootPart.Position).Magnitude <= 3 then
                        task.wait(0.2)
                        game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("StartQuest", NameQuest, LevelQuest)
                        task.wait(0.5)
                    end
                else
                    CheckQuest()
                    local enemies = game:GetService("Workspace").Enemies
                    local target = enemies:FindFirstChild(Mon)
                    
                    if target then
                        for _, enemy in pairs(enemies:GetChildren()) do
                            if enemy:FindFirstChild("HumanoidRootPart") and enemy:FindFirstChild("Humanoid") and enemy.Humanoid.Health > 0 and enemy.Name == Mon then
                                if string.find(questTitle, NameMon) then
                                    repeat
                                        task.wait()
                                        if not _G.SST.Auto_Farm_Level then return end -- หยุดทันทีเมื่อปิด
                                        PosMon = enemy.HumanoidRootPart.CFrame
                                        EquipWeapon(SelectWeapon)
                                        AutoHaki()
                                        Tween(enemy.HumanoidRootPart.CFrame * CFrame.new(0, 20, 0))
                                        StartMagnet = true
                                    until not _G.SST.Auto_Farm_Level or enemy.Humanoid.Health <= 0 or not enemy.Parent or not questGui.Visible
                                else
                                    StartMagnet = false
                                    game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("AbandonQuest")
                                end
                            end
                        end
                    else
                        StartMagnet = false
                        local target = game:GetService("ReplicatedStorage"):FindFirstChild(Mon)
                        
                        if target and _G.SST.Auto_Farm_Level then
                            Tween(target.HumanoidRootPart.CFrame)
                        elseif (CFrameQuest.Position - rootPart.Position).Magnitude <= 200 and _G.SST.Auto_Farm_Level then
                            if PUK then
                                Tween(PUK)
                            elseif OldPos then
                                Tween(OldPos.Position)
                            elseif PUK then
                                Tween(PUK)
                            end
                        end
                    end
                end
            end)
        else
            StartMagnet = false -- ปิด StartMagnet ถ้าไม่ได้เปิด Auto Farm
        end
    end
end)


MAIN:AddSeperatorL("World Quest")
if World1 then
MAIN:AddToggleL("Auto World Two",_G.SST.Auto_World_Two,function(value)
    Auto_World_Two = value
    _G.SST.Auto_World_Two = Auto_World_Two
    SS()
end)

spawn(function()
    while task.wait() do
        if _G.SST.Auto_World_Two then
            pcall(function()
                local player = game.Players.LocalPlayer
                local character = player.Character
                local rootPart = character and character:FindFirstChild("HumanoidRootPart")
                local myLevel = player.Data.Level.Value
                local iceDoor = game:GetService("Workspace").Map.Ice.Door
                
                if not character or not rootPart then return end
                
                if myLevel >= 700 and World1 then
                    if iceDoor.CanCollide and iceDoor.Transparency == 0 then
                        local CFrame1 = CFrame.new(4849.29883, 5.65138149, 719.611877)
                        repeat
                            Tween(CFrame1)
                            task.wait()
                        until (CFrame1.Position - rootPart.Position).Magnitude <= 3 or not _G.SST.Auto_World_Two

                        task.wait(0.6)
                        game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("DressrosaQuestProgress", "Detective")
                        task.wait(0.4)

                        EquipWeapon("Key")
                        local CFrame2 = CFrame.new(1347.7124, 37.3751602, -1325.6488)
                        repeat
                            Tween(CFrame2)
                            task.wait()
                        until (CFrame2.Position - rootPart.Position).Magnitude <= 3 or not _G.SST.Auto_World_Two

                        task.wait(0.5)
                        
                    elseif not iceDoor.CanCollide and iceDoor.Transparency == 1 then
                        -- ตรวจสอบว่าผู้เล่นถือ Key หรือไม่
                        if character:FindFirstChild("Key") then
                            local CFrameDoor = iceDoor.CFrame
                            repeat
                                Tween(CFrameDoor)
                                task.wait()
                            until (CFrameDoor.Position - rootPart.Position).Magnitude <= 3 or not _G.SST.Auto_World_Two

                            task.wait(0.5)
                            game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("DressrosaQuestProgress", "Key")
                            task.wait(1)
                        else
                            local iceAdmiral = game:GetService("Workspace").Enemies:FindFirstChild("Ice Admiral")

                            if iceAdmiral then
                                for _, v in pairs(game:GetService("Workspace").Enemies:GetChildren()) do
                                    if v.Name == "Ice Admiral" and v:FindFirstChild("Humanoid") and v:FindFirstChild("HumanoidRootPart") and v.Humanoid.Health > 0 then
                                        OldCFrameSecond = v.HumanoidRootPart.CFrame

                                        repeat
                                            task.wait()
                                            AutoHaki()
                                            EquipWeapon(SelectWeapon)
                                            v.HumanoidRootPart.CanCollide = false
                                            v.Humanoid.WalkSpeed = 0
                                            v.Head.CanCollide = false
                                            v.HumanoidRootPart.CFrame = OldCFrameSecond
                                            Tween(v.HumanoidRootPart.CFrame * CFrame.new(0, 20, 0))
                                            sethiddenproperty(player, "SimulationRadius", math.huge)
                                        until not _G.SST.Auto_World_Two or not v.Parent or v.Humanoid.Health <= 0
                                    end
                                end
                            else
                                local iceAdmiralClone = game:GetService("ReplicatedStorage"):FindFirstChild("Ice Admiral")
                                if iceAdmiralClone then
                                    Tween(iceAdmiralClone.HumanoidRootPart.CFrame * CFrame.new(0, 45, 0))
                                end
                            end
                        end
                    end
                end
            end)
            game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("TravelDressrosa")
        end
    end
end)

end
if World2 then

MAIN:AddToggleL("Auto Third Sea",_G.SST.Auto_Third_Sea,function(value)
    Auto_Third_Sea = value
    _G.SST.Auto_Third_Sea = Auto_Third_Sea
    SS()
end)

task.spawn(function()
    while task.wait() do
        if _G.SST.Auto_Third_Sea then
            pcall(function()
                local player = game:GetService("Players").LocalPlayer
                local replicatedStorage = game:GetService("ReplicatedStorage")
                local workspace = game:GetService("Workspace")
                local humanoidRootPart = player.Character and player.Character:FindFirstChild("HumanoidRootPart")

                if player.Data.Level.Value >= 1500 and World2 then
                    AutoFarm = false
                    if replicatedStorage.Remotes.CommF_:InvokeServer("ZQuestProgress", "Check") == 0 then
                        local questPosition = CFrame.new(-1926.322, 12.8198, 1738.309)
                        Tween(questPosition)

                        if humanoidRootPart and (questPosition.Position - humanoidRootPart.Position).Magnitude <= 10 then
                            task.wait(1.5)
                            replicatedStorage.Remotes.CommF_:InvokeServer("ZQuestProgress", "Begin")
                        end
                        
                        task.wait(1.8)
                        local ripIndra = workspace.Enemies:FindFirstChild("rip_indra")

                        if ripIndra then
                            for _, v in pairs(workspace.Enemies:GetChildren()) do
                                if v.Name == "rip_indra" then
                                    local oldCFrameThird = v.HumanoidRootPart.CFrame
                                    repeat
                                        task.wait()
                                        AutoHaki()
                                        EquipWeapon(SelectWeapon)
                                        Tween(v.HumanoidRootPart.CFrame * CFrame.new(5,10,7))
                                        v.HumanoidRootPart.CFrame = oldCFrameThird
                                        
                                        v.HumanoidRootPart.CanCollide = false
                                        v.Humanoid.WalkSpeed = 0
                                        game:GetService("VirtualUser"):CaptureController()
                                        game:GetService("VirtualUser"):Button1Down(Vector2.new(1280, 672))
                                        replicatedStorage.Remotes.CommF_:InvokeServer("TravelZou")
                                        sethiddenproperty(player, "SimulationRadius", math.huge)
                                    until not _G.SST.Auto_Third_Sea or v.Humanoid.Health <= 0 or not v.Parent
                                end
                            end
                        elseif not ripIndra and humanoidRootPart and (Vector3.new(-26880.933, 22.8486, 473.189) - humanoidRootPart.Position).Magnitude <= 1000 then
                            Tween(CFrame.new(-26880.933, 22.8486, 473.189))
                        end
                    end
                end
            end)
        end
    end
end)

MAIN:AddToggleL("Auto Factory",_G.SST.Auto_Factory,function(value)
    Auto_Factory = value
    _G.SST.Auto_Factory = Auto_Factory
    SS()
end)

task.spawn(function()
    while task.wait() do
        pcall(function()
            if _G.SST.Auto_Factory then
                local workspace = game:GetService("Workspace")
                local enemies = workspace.Enemies
                local player = game:GetService("Players").LocalPlayer
                local humanoidRootPart = player.Character and player.Character:FindFirstChild("HumanoidRootPart")
                local core = enemies:FindFirstChild("Core")
                local targetPosition = CFrame.new(448.46756, 199.356781, -441.389252)

                if workspace.Map.Dressrosa.SmileFactory.Core.Glass.Transparency == "0" and core then
                    for _, v in pairs(enemies:GetChildren()) do
                        if v.Name == "Core" and v.Humanoid.Health > 0 then
                            repeat
                                task.wait()
                                AutoHaki()
                                EquipWeapon(SelectWeapon)
                                Tween(targetPosition)
                            until v.Humanoid.Health <= 0 or not  _G.SST.Auto_Factory or workspace.Map.Dressrosa.SmileFactory.Core.Glass.Transparency == "0.44999998807907104" or not core
                        end
                    end
                end
            end
        end)
    end
end)

end

MAIN:AddSeperatorL("Material")
MaterialList = {
    "Leather",
    "Scrap Metal",
    "Wood",
    "Bones",
    "Demonic Wisp",
    "Magma Ore",
    "Dragon Scale",
    "Dark Fragment",
    "Mirror Fractal",
    "Conjured Cocoa",
    "Mystic Droplet",
    "Electric Fragment",
    "Vampire Fang"
}

-- ศัตรูที่ดรอป Material แต่ละชนิด + ตำแหน่งเกิด
MaterialEnemies = {
    ["Leather"] = {Enemies = {"Pirate", "Brute"}, SpawnCFrame = CFrame.new(1150, 20, 1400)}, 
    ["Scrap Metal"] = {Enemies = {"Pirate", "Brute", "Bandit"}, SpawnCFrame = CFrame.new(-450, 30, 2500)}, 
    ["Wood"] = {Enemies = {"Pirate", "Brute", "Bandit"}, SpawnCFrame = CFrame.new(-450, 30, 2500)}, 
    ["Bones"] = {Enemies = {"Reborn Skeletons", "Living Zombies", "Possessed Mummies"}, SpawnCFrame = CFrame.new(-950, 30, 5800)}, 
    ["Demonic Wisp"] = {Enemies = {"Ghost", "Cursed Ship NPCs", "Soul Reaper"}, SpawnCFrame = CFrame.new(850, 50, 7000)}, 
    ["Magma Ore"] = {Enemies = {"Magma Admiral", "Lava Pirates"}, SpawnCFrame = CFrame.new(1500, 30, -500)}, 
    ["Dragon Scale"] = {Enemies = {"Dragon Crew Warrior", "Dragon Crew Archer"}, SpawnCFrame = CFrame.new(3000, 40, 900)}, 
    ["Dark Fragment"] = {Enemies = {"Darkbeard"}, SpawnCFrame = CFrame.new(5000, 50, -2000)}, 
    ["Mirror Fractal"] = {Enemies = {"Dough King"}, SpawnCFrame = CFrame.new(1200, 60, 5000)}, 
    ["Conjured Cocoa"] = {Enemies = {"Chocolate Bar Battler", "Sweet Thief", "Candy Rebel"}, SpawnCFrame = CFrame.new(-300, 30, 7500)}, 
    ["Mystic Droplet"] = {Enemies = {"Fishman Raider", "Fishman Captain"}, SpawnCFrame = CFrame.new(-1000, 40, 4000)}, 
    ["Electric Fragment"] = {Enemies = {"Cake Prince"}, SpawnCFrame = CFrame.new(2000, 50, 8000)}, 
    ["Vampire Fang"] = {Enemies = {"Vampire", "Dracula"}, SpawnCFrame = CFrame.new(-700, 35, 6000)}
}

MAIN:AddDropdownL("Select Material", MaterialList, _G.SST.Select_Material, function(value)
    Select_Material = value
    _G.SST.Select_Material = Select_Material
    SS()
end)

MAIN:AddToggleL("Auto farm Material", _G.SST.Auto_Farm_Material, function(value)
    Auto_Farm_Material = value
    _G.SST.Auto_Farm_Material = Auto_Farm_Material
    SS()
end)

spawn(function()
    while task.wait(0) do
        pcall(function()
            if _G.SST.Auto_Farm_Material and Select_Material then
                local data = MaterialEnemies[Select_Material] -- ดึงข้อมูลศัตรูและตำแหน่งเกิด
                if data then
                    local enemiesToFarm = data.Enemies
                    local spawnPoint = data.SpawnCFrame

                    -- ไปยังจุดเกิดของมอนก่อนเริ่มฟาร์ม
                    if spawnPoint then
                        Tween(spawnPoint)
                        task.wait(1) -- รอให้ตัวละครไปถึงก่อน
                    end

                    local foundEnemy = false
                    repeat
                        for i, enemy in pairs(game:GetService("Workspace").Enemies:GetChildren()) do
                            if table.find(enemiesToFarm, enemy.Name) then
                                foundEnemy = true
                                if enemy:FindFirstChild("Humanoid") and enemy:FindFirstChild("HumanoidRootPart") and enemy.Humanoid.Health > 0 then
                                    repeat task.wait()
                                        AutoHaki()
                                        EquipWeapon(SelectWeapon)
                                        enemy.HumanoidRootPart.CanCollide = false
                                        enemy.Humanoid.WalkSpeed = 0
                                        enemy.Head.CanCollide = false 
                                        StartMagnetMaterial = true
                                        PosMonMaterial = enemy.HumanoidRootPart.CFrame
                                        Tween(enemy.HumanoidRootPart.CFrame * CFrame.new(0, 20, 0))
                                    until not _G.SST.Auto_Farm_Material or not enemy.Parent or enemy.Humanoid.Health <= 0
                                end
                            end
                        end
                        if not foundEnemy then
                            task.wait(2) -- ถ้ายังไม่มีมอนเกิด รอแล้ววนเช็คใหม่
                        end
                    until foundEnemy == true
                end
            end
        end)
    end
end)

MAIN:AddSeperatorL("Boss")

local bossList = {
    ["Cyborg"] = true, ["The Gorilla King"] = true, ["Wysper"] = true,
    ["Thunder God"] = true, ["Mob Leader"] = true, ["Bobby"] = true,
    ["Saber Expert"] = true, ["Warden"] = true, ["Chief Warden"] = true,
    ["Swan"] = true, ["Magma Admiral"] = true, ["Fishman Lord"] = true,
    ["Ice Admiral"] = true, ["Diamond"] = true, ["Jeremy"] = true,
    ["Fajita"] = true, ["Don Swan"] = true, ["Smoke Admiral"] = true,
    ["Awakened Ice Admiral"] = true, ["Tide Keeper"] = true, ["Darkbeard"] = true,
    ["Stone"] = true, ["Island Empress"] = true, ["Kilo Admiral"] = true,
    ["Captain Elephant"] = true, ["Beautiful Pirate"] = true, ["Longma"] = true,
    ["Cake Queen"] = true, ["Greybeard"] = true, ["Order"] = true,
    ["Cursed Captain"] = true, ["Soul Reaper"] = true, ["Rip indra"] = true,
    ["Mihawk Boss"] = true, ["Cake Prince"] = true, ["Dough King"] = true,
    ["Cursed Skeleton Boss"] = true, ["Factory"] = true
}

local Boss = {}

-- ฟังก์ชันอัปเดตรายชื่อบอส
local function updateBossList()
    table.clear(Boss) -- ล้างค่าเก่า
    for _, v in ipairs(game.ReplicatedStorage:GetChildren()) do
        if bossList[v.Name] then
            table.insert(Boss, v.Name)
        end
    end
end

-- ทำให้อัปเดตตลอดเวลา
task.spawn(function()
    while true do
        updateBossList()
        task.wait(1) -- อัปเดตทุก ๆ 1 วินาที
    end
end)

-- UI Dropdown สำหรับเลือกบอส
MAIN:AddDropdownL("Select Boss", Boss, _G.SST.Select_Boss, function(value)
    Select_Boss = value
    _G.SST.Select_Boss = Select_Boss
    SS()
end)

-- Toggle สำหรับเปิด-ปิด Auto Farm Boss
MAIN:AddToggleL("Auto Farm Boss", _G.SST.Auto_Farm_Boss, function(value)
    Auto_Farm_Boss = value
    _G.SST.Auto_Farm_Boss = Auto_Farm_Boss
    SS()
end)

-- ฟังก์ชันสำหรับหาและตีบอสอัตโนมัติ
spawn(function()
    while task.wait() do
        if _G.SST.Auto_Farm_Boss and _G.SST.Select_Boss then
            pcall(function()
                local bossName = _G.SST.Select_Boss
                local enemies = game:GetService("Workspace").Enemies
                local boss = enemies:FindFirstChild(bossName)

                if boss and boss:FindFirstChild("Humanoid") and boss:FindFirstChild("HumanoidRootPart") and boss.Humanoid.Health > 0 then
                    repeat
                        task.wait()
                        AutoHaki()
                        EquipWeapon(SelectWeapon)
                        boss.HumanoidRootPart.CanCollide = false
                        boss.Humanoid.WalkSpeed = 0
                        Tween(boss.HumanoidRootPart.CFrame * CFrame.new(0, 20, 0))
                        sethiddenproperty(game:GetService("Players").LocalPlayer, "SimulationRadius", math.huge)
                    until not _G.SST.Auto_Farm_Boss or not boss.Parent or boss.Humanoid.Health <= 0
                else
                    -- ถ้าบอสไม่อยู่ใน Workspace ลองหาใน ReplicatedStorage
                    local bossStorage = game:GetService("ReplicatedStorage"):FindFirstChild(bossName)
                    if bossStorage and bossStorage:FindFirstChild("HumanoidRootPart") then
                        Tween(bossStorage.HumanoidRootPart.CFrame * CFrame.new(0, 49, 0))
                    end
                end
            end)
        end
    end
end)


-- Toggle สำหรับเปิด-ปิด Auto Farm Boss
MAIN:AddToggleL("Auto Farm All Bosses", _G.SST.Auto_Farm_Boss_All, function(value)
    Auto_Farm_Boss_All = value
    _G.SST.Auto_Farm_Boss_All = Auto_Farm_Boss_All
    SS()
    if value then
        task.spawn(AutoFarmAllBosses) -- เริ่มตีบอสทั้งหมด
    end
end)

spawn(function()
    while wait() do
        if _G.SST.Auto_Farm_Boss_All then
            pcall(function()
                for i,v in pairs(game:GetService("ReplicatedStorage"):GetChildren()) do		
                    if v.Name == "Cyborg" or v.Name == "The Gorilla King" or v.Name == "Wysper" or v.Name == "Thunder God" or v.Name == "Mob Leader" or v.Name == "Bobby" or v.Name == "Saber Expert" or v.Name == "Warden" or v.Name == "Chief Warden" or v.Name == "Swan" or v.Name == "Magma Admiral"  or v.Name == "Fishman Lord" or v.Name == "Wysper" or v.Name == "Ice Admiral" or v.Name == "Diamond" or v.Name == "Jeremy" or v.Name == "Fajita" or v.Name == "Don Swan" or v.Name == "Smoke Admiral" or v.Name == "Awakened Ice Admiral" or v.Name == "Tide Keeper" or v.Name == "Darkbeard" or v.Name == "Stone" or v.Name == "Island Empress" or v.Name == "Kilo Admiral" or v.Name == "Captain Elephant" or v.Name == "Beautiful Pirate" or v.Name == "Longma" or v.Name == "Cake Queen" or v.Name == "Greybeard" or v.Name == "Order" or v.Name == "Cursed Captain" or v.Name == "Soul Reaper" or v.Name == "Rip indra" or v.Name == "Mihawk Boss" or v.Name == "Cake Prince" or v.Name == "Dough King" or v.Name == "Cursed Skeleton Boss" or v.Name == "Factory" then
                        if (v.HumanoidRootPart.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude < 17000 then
                            repeat task.wait()
                                AutoHaki()
                                EquipWeapon(SelectWeapon)
                                v.Humanoid.WalkSpeed = 0
                                v.HumanoidRootPart.CanCollide = false
                                v.Head.CanCollide = false
                                Tween(v.HumanoidRootPart.CFrame*CFrame.new(0,45,0))
                                sethiddenproperty(game.Players.LocalPlayer,"SimulationRadius",math.huge)
                            until v.Humanoid.Health <= 0 or _G.SST.Auto_Farm_Boss_All == false or not v.Parent
                        end
                    else
                        if _G.SST.Auto_Farm_Boss_All_Hop then
                            Hop()
                        end
                    end
                end
            end)
        end
    end
end)
--------------------------------------------------------- Main Right

MAIN:AddSeperatorR("Setting")
MAIN:AddDropdownR("Select Weapon Type",{"Melee","Sword","Devil Fruit"},_G.SST.Select_Weapon_Type,function(value)
    Select_Weapon_Type = value
    _G.SST.Select_Weapon_Type = Select_Weapon_Type
    SS()
end)

spawn(function()
	while wait() do
		pcall(function()
			if _G.SST.Select_Weapon_Type == "Melee" then
				for i ,v in pairs(game.Players.LocalPlayer.Backpack:GetChildren()) do
					if v.ToolTip == "Melee" then
						if game.Players.LocalPlayer.Backpack:FindFirstChild(tostring(v.Name)) then
							SelectWeapon = v.Name
						end
					end
				end
			elseif _G.SST.Select_Weapon_Type == "Sword" then
				for i ,v in pairs(game.Players.LocalPlayer.Backpack:GetChildren()) do
					if v.ToolTip == "Sword" then
						if game.Players.LocalPlayer.Backpack:FindFirstChild(tostring(v.Name)) then
							SelectWeapon = v.Name
						end
					end
				end
			elseif _G.SST.Select_Weapon_Type == "Devil Fruit" then
				for i ,v in pairs(game.Players.LocalPlayer.Backpack:GetChildren()) do
					if v.ToolTip == "Blox Fruit" then
						if game.Players.LocalPlayer.Backpack:FindFirstChild(tostring(v.Name)) then
							SelectWeapon = v.Name
						end
					end
				end
			else
				for i ,v in pairs(game.Players.LocalPlayer.Backpack:GetChildren()) do
					if v.ToolTip == "Melee" then
						if game.Players.LocalPlayer.Backpack:FindFirstChild(tostring(v.Name)) then
							SelectWeapon = v.Name
						end
					end
				end
			end
		end)
	end
end)


MAIN:AddToggleR("Bring Mob",_G.SST.Bring_Mob,function(value)
    Bring_Mob = value
    _G.SST.Bring_Mob = Bring_Mob
    SS()
end)

spawn(function()
    while task.wait(0) do
        pcall(function()
            if _G.SST.Bring_Mob then
                CheckQuest()
                for _, v in pairs(game:GetService("Workspace").Enemies:GetChildren()) do
                    if v:FindFirstChild("Humanoid") and v:FindFirstChild("HumanoidRootPart") and v.Humanoid.Health > 0 then
                        local playerRoot = game:GetService("Players").LocalPlayer.Character.HumanoidRootPart
                        local distance = (v.HumanoidRootPart.Position - playerRoot.Position).Magnitude
                        local StandasRang = 120

                        -- เงื่อนไขของมอน
                        local conditions = {
                            {enabled = _G.SST.Auto_Farm_Level and StartMagnet, names = {"Factory Staff", "Monkey", "Dragon Crew Warrior", "Dragon Crew Archer"}, range = StandasRang, pos = PosMon},
                            {enabled = _G.SST.Auto_Farm_Level and StartMagnet, names = {NameMon}, range = StandasRang, pos = PosMon},
                            {enabled = AutoEctoplasm and StartEctoplasmMagnet, names = {"Ship"}, range = StandasRang, pos = EctoplasmMon},
                            {enabled = AutoRengoku and StartRengokuMagnet, names = {"Snow Lurker [Lv. 1375]", "Arctic Warrior [Lv. 1350]"}, range = StandasRang, pos = RengokuMon}
                        }

                        for _, condition in pairs(conditions) do
                            if condition.enabled and table.find(condition.names, v.Name) and distance <= condition.range then
                                v.HumanoidRootPart.CFrame = condition.pos
                                v.Humanoid:ChangeState(11) -- ป้องกันบัคเดิน
                                v.Humanoid.WalkSpeed = 0
                                v.HumanoidRootPart.CanCollide = false
                                v.Head.CanCollide = false
                                
                                -- ลบ Animator ป้องกันมอนเดินเอง
                                if v.Humanoid:FindFirstChild("Animator") then
                                    v.Humanoid.Animator:Destroy()
                                end

                                -- ปรับ Simulation Radius ให้มอนไม่หลุดจากระยะ
                                sethiddenproperty(game:GetService("Players").LocalPlayer, "SimulationRadius", math.huge)
                            end
                        end
                    end
                end
            end
        end)
    end
end)



MAIN:AddToggleR("Fast Attack",_G.SST.Fast_Attack,function(value)
    Fast_Attack = value
    _G.SST.Fast_Attack = Fast_Attack
    SS()
end)

spawn(function()
    while task.wait(0) do
        if _G.SST.Fast_Attack then
            Click()
        else
            StopClick()
        end
    end
end)

MAIN:AddSeperatorR("Melee")
MAIN:AddToggleR("Auto Superhuman",_G.SST.Auto_Superhuman,function(value)
    Auto_Superhuman = value
    _G.SST.Auto_Superhuman = Auto_Superhuman
    SS()
end)

spawn(function()
    while task.wait() do
        pcall(function()
            if _G.SST.Auto_Superhuman then
                local player = game.Players.LocalPlayer
                local character = player.Character
                local backpack = player.Backpack
                local beli = player.Data.Beli.Value
                local fragments = player.Data.Fragments.Value

                -- ตรวจสอบว่า Player มี Combat อยู่หรือไม่ และมีเงินพอจะซื้อ Black Leg
                if (backpack:FindFirstChild("Combat") or character:FindFirstChild("Combat")) and beli >= 150000 then
                    UnEquipWeapon("Combat")
                    task.wait(0.1)
                    game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("BuyBlackLeg")
                end   

                -- เช็คว่าผู้เล่นมี Superhuman หรือยัง
                if backpack:FindFirstChild("Superhuman") or character:FindFirstChild("Superhuman") then
                    SelectWeapon = "Superhuman"
                end  

                -- เช็ค Fighting Style ทั้งหมด
                local fightingStyles = {
                    "Black Leg", "Electro", "FishmanKarate", "Dragon Claw"
                }

                for _, style in pairs(fightingStyles) do
                    local weapon = backpack:FindFirstChild(style) or character:FindFirstChild(style)
                    if weapon and weapon.Level.Value <= 299 then
                        SelectWeapon = style
                    end
                end

                -- อัปเกรด Fighting Style เมื่อถึงเลเวลที่กำหนด
                local upgrades = {
                    ["Black Leg"] = { nextStyle = "Electro", cost = 300000 },
                    ["Electro"] = { nextStyle = "FishmanKarate", cost = 750000 },
                    ["FishmanKarate"] = { nextStyle = "Dragon Claw", cost = 0, fragments = 1500 }, -- ใช้ Fragments แทน Beli
                    ["Dragon Claw"] = { nextStyle = "Superhuman", cost = 3000000 }
                }

                for style, data in pairs(upgrades) do
                    local weapon = backpack:FindFirstChild(style) or character:FindFirstChild(style)
                    if weapon and weapon.Level.Value >= 300 then
                        if data.fragments then
                            if fragments >= data.fragments then
                                UnEquipWeapon(style)
                                task.wait(0.1)
                                game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("BlackbeardReward", "DragonClaw", "1")
                                game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("BlackbeardReward", "DragonClaw", "2")
                            end
                        elseif beli >= data.cost then
                            UnEquipWeapon(style)
                            task.wait(0.1)
                            game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("Buy" .. data.nextStyle)
                        end
                    end
                end
            end
        end)
    end
end)


MAIN:AddToggleR("Auto DeathStep",_G.SST.Auto_DeathStep,function(value)
    Auto_DeathStep = value
    _G.SST.Auto_DeathStep = Auto_DeathStep
    SS()
end)

spawn(function()
    while task.wait() do
        pcall(function()
            if _G.SST.Auto_DeathStep then
                local player = game:GetService("Players").LocalPlayer
                local character = player.Character
                local backpack = player.Backpack

                -- ตรวจสอบว่าผู้เล่นมี Black Leg หรือ Death Step อยู่หรือไม่
                local hasBlackLeg = backpack:FindFirstChild("Black Leg") or character:FindFirstChild("Black Leg")
                local hasDeathStep = backpack:FindFirstChild("Death Step") or character:FindFirstChild("Death Step")

                -- ถ้ามี Black Leg และถึงเลเวล 450 ให้ซื้อ Death Step
                if hasBlackLeg and hasBlackLeg.Level and hasBlackLeg.Level.Value >= 450 then
                    game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("BuyDeathStep")
                    SelectWeapon = "Death Step"
                elseif hasBlackLeg and hasBlackLeg.Level and hasBlackLeg.Level.Value < 450 then
                    SelectWeapon = "Black Leg"
                elseif not hasBlackLeg and not hasDeathStep then
                    game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("BuyBlackLeg")
                end
            end
        end)
    end
end)


MAIN:AddToggleR("Auto Sharkman",_G.SST.Auto_Sharkman,function(value)
    Auto_Sharkman = value
    _G.SST.Auto_Sharkman = Auto_Sharkman
    SS()
end)

spawn(function()
    while task.wait() do
        pcall(function()
            if _G.SST.Auto_Sharkman then
                local player = game:GetService("Players").LocalPlayer
                local character = player.Character
                local backpack = player.Backpack
                local replicatedStorage = game:GetService("ReplicatedStorage")
                local workspaceEnemies = game:GetService("Workspace").Enemies

                -- ซื้อ Fishman Karate
                replicatedStorage.Remotes.CommF_:InvokeServer("BuyFishmanKarate")

                -- ตรวจสอบว่าต้องใช้ Water Key หรือไม่
                if string.find(replicatedStorage.Remotes.CommF_:InvokeServer("BuySharkmanKarate"), "keys") then
                    if character:FindFirstChild("Water Key") or backpack:FindFirstChild("Water Key") then
                        Tween(CFrame.new(-2604.6958, 239.432526, -10315.1982))
                        replicatedStorage.Remotes.CommF_:InvokeServer("BuySharkmanKarate")
                    end
                elseif character:FindFirstChild("Fishman Karate") and character.FishmanKarate.Level.Value >= 400 then
                    -- ถ้ามี Fishman Karate แล้วและเลเวลถึง 400 ไม่ต้องทำอะไร
                else
                    -- หา Tide Keeper เพื่อฟาร์มหา Water Key
                    local tideKeeper = workspaceEnemies:FindFirstChild("Tide Keeper")
                    if tideKeeper then
                        for _, enemy in pairs(workspaceEnemies:GetChildren()) do
                            if enemy.Name == "Tide Keeper" and enemy:FindFirstChild("Humanoid") and enemy:FindFirstChild("HumanoidRootPart") then
                                local oldCFrame = enemy.HumanoidRootPart.CFrame
                                repeat
                                    task.wait()
                                    AutoHaki()
                                    EquipWeapon(SelectWeapon)
                                    enemy.Head.CanCollide = false
                                    enemy.Humanoid.WalkSpeed = 0
                                    enemy.HumanoidRootPart.CanCollide = false
                                    enemy.HumanoidRootPart.CFrame = oldCFrame
                                    Tween(enemy.HumanoidRootPart.CFrame * CFrame.new(0, 45, 0))
                                    game:GetService("VirtualUser"):CaptureController()
                                    game:GetService("VirtualUser"):Button1Down(Vector2.new(1280, 670))
                                    sethiddenproperty(player, "SimulationRadius", math.huge)
                                until not enemy.Parent or enemy.Humanoid.Health <= 0 or _G.SST.Auto_Sharkman == false or character:FindFirstChild("Water Key") or backpack:FindFirstChild("Water Key")
                            end
                        end
                    else
                        -- ถ้า Tide Keeper ไม่อยู่ ให้ไปที่ตำแหน่งของมัน
                        if replicatedStorage:FindFirstChild("Tide Keeper") then
                            Tween(replicatedStorage:FindFirstChild("Tide Keeper").HumanoidRootPart.CFrame)
                        end
                    end
                end
            end
        end)
    end
end)


MAIN:AddToggleR("Auto ElectricClaw",_G.SST.Auto_ElectricClaw,function(value)
    Auto_ElectricClaw = value
    _G.SST.Auto_ElectricClaw = Auto_ElectricClaw
    SS()
end)

MAIN:AddToggleR("Auto DragonTalon",_G.SST.Auto_DragonTalon,function(value)
    Auto_DragonTalon = value
    _G.SST.Auto_DragonTalon = Auto_DragonTalon
    SS()
end)

MAIN:AddToggleR("Auto Godhuman",_G.SST.Auto_Godhuman,function(value)
    Auto_Godhuman = value
    _G.SST.Auto_Godhuman = Auto_Godhuman
    SS()
end)

MAIN:AddSeperatorR("Auto Stats")

 Pointstat = MAIN:AddLabelR("Loading . . .") -- แก้คำผิดจาก "Loadding" เป็น "Loading"

spawn(function()
    while task.wait() do
        pcall(function()
            if Pointstat and typeof(Pointstat.Set) == "function" then
                local points = game:GetService("Players").LocalPlayer.Data.Points.Value
                Pointstat:Set("Stat Points : "..points)
            end
        end)
    end
end)

MAIN:AddDropdownR("Select Stat Upgreat",{"Melee","Defense","Sword","Gun","Devil Fruit","KaiTan"},_G.SST.Select_Stat_Upgreat,function(value)
    Select_Stat_Upgreat = value
    _G.SST.Select_Stat_Upgreat = Select_Stat_Upgreat
    SS()
end)

_G.SST.Select_Stat_Point = Select_Stat_Point or "1"
MAIN:AddSliderR("Select Stat Point","1","2675",_G.SST.Select_Stat_Point,function(value)
    Select_Stat_Point = value
    _G.SST.Select_Stat_Point = Select_Stat_Point
    SS()
end)

MAIN:AddToggleR("Auto Upgreat Stat",_G.SST.Auto_Upgreat_Stat,function(value)
    Auto_Upgreat_Stat = value
    _G.SST.Auto_Upgreat_Stat = Auto_Upgreat_Stat
    SS()
end)

task.spawn(function()
    while task.wait() do
        if _G.SST.Auto_Upgreat_Stat then
            local player = game:GetService("Players").LocalPlayer
            local statPoints = player.Data.Points.Value
            local selectedStat = _G.SST.Select_Stat_Upgreat
            local upgradeAmount = _G.SST.Select_Stat_Point

            -- ตรวจสอบว่ามีแต้มอัพสกิลเหลือหรือไม่
            if statPoints > 0 then
                if selectedStat == "Melee" or selectedStat == "Defense" or selectedStat == "Sword" or selectedStat == "Gun" or selectedStat == "Devil Fruit" then
                    game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("AddPoint", selectedStat, upgradeAmount)

                elseif selectedStat == "KaiTan" then
                    local meleeLevel = player.Data.Stats.Melee.Level.Value
                    if meleeLevel >= 2600 then
                        game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("AddPoint", "Defense", upgradeAmount)
                    else
                        game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("AddPoint", "Melee", upgradeAmount)
                    end
                end
            end
        end
    end
end)
